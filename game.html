<html class="notion-html"><head lang="en"><meta charset="utf-8"/><meta content="width=device-width,height=device-height,initial-scale=1,maximum-scale=1,user-scalable=no,viewport-fit=cover" name="viewport"/><title>Game</title><meta content="en_US" property="og:locale"/><link href="/images/favicon.ico" rel="shortcut icon" type="image/x-icon"/><link href="/images/logo-ios.png" rel="apple-touch-icon"/><meta content="yes" name="apple-mobile-web-app-capable"/><meta content="telephone=no" name="format-detection"/><meta content="no" name="msapplication-tap-highlight"/><link href="4c758603f1604611142662f0ddecadcb583394b5.css" media="print" rel="stylesheet"/><link href="c423359275b73d9dd78d6ba83a633d8a5c61b6ff.css" rel="stylesheet"/><meta content="Loconotion Test Site" name="Tolerant"/><meta content="blog" name="description"/><link href="https://fonts.googleapis.com/css2?family=Ubuntu+Mono:wght@500;600;700&amp;display=swap" rel="stylesheet"/><link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@500;600;700&amp;display=swap" rel="stylesheet"/><style type="text/css">.notion-page-block > div, .notion-collection_view_page-block > div[data-root] {font-family:Montserrat !important} .notion-header-block div, notion-page-content > notion-collection_view-block > div:first-child div {font-family:Montserrat !important} .notion-sub_header-block div {font-family:Montserrat !important} .notion-sub_sub_header-block div {font-family:Montserrat !important} div:not(.notion-code-block) {font-family:Ubuntu Mono} </style><link href="e1d809d762eeca23edf0cb31bb17bf3c703085f5.css" rel="stylesheet"/><link href="a7c910ee9c818a3cb069bd23e67c9c794122a20e.png" rel="icon" sizes="16x16" type="image/png"/></head><body class="notion-body"><style>body{background:#fff}body.dark{background:#2f3437}.initial-loading-spinner{-webkit-animation:rotate 1s linear infinite;animation:rotate 1s linear infinite;-webkit-transform-origin:center center;transform-origin:center center;width:1em;height:1em;opacity:.5;display:block;pointer-events:none}@-webkit-keyframes rotate{0%{-webkit-transform:rotate(0) translateZ(0);transform:rotate(0) translateZ(0)}100%{-webkit-transform:rotate(360deg) translateZ(0);transform:rotate(360deg) translateZ(0)}}@keyframes rotate{0%{-webkit-transform:rotate(0) translateZ(0);transform:rotate(0) translateZ(0)}100%{-webkit-transform:rotate(360deg) translateZ(0);transform:rotate(360deg) translateZ(0)}}</style><style id="scroll-properties">
			::-webkit-scrollbar {
				width: 10px;
				height: 10px;
			}
			::-webkit-scrollbar {
				background: transparent;
			}
			::-webkit-scrollbar-track {
				background: #EDECE9;
			}
			::-webkit-scrollbar-thumb {
				background:#D3D1CB;
			}
			::-webkit-scrollbar-thumb:hover {
				background:#AEACA6;
			}
		</style><div id="notion-app"><div class="notion-app-inner notion-light-theme" style='color: rgb(55, 53, 47); fill: currentcolor; line-height: 1.5; font-family: ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol"; -webkit-font-smoothing: auto;'><div class="notion-cursor-listener" style="width: 100vw; height: 100%; position: relative; display: flex; flex: 1 1 0%; background: white; cursor: text;"><div class="notion-frame" style="flex-grow: 0; flex-shrink: 1; display: flex; flex-direction: column; background: white; z-index: 1; height: 100vh; max-height: 100%; width: 1920px;"><div style="max-width: 100vw; z-index: 100; background: white; user-select: none; width: 1920px;"><div class="notion-topbar" style="width: 100%; max-width: 100vw; height: 45px; opacity: 1; transition: opacity 700ms ease 0s, color 700ms ease 0s; position: relative;"><div style="display: flex; justify-content: space-between; align-items: center; position: absolute; overflow: hidden; height: 45px; left: 0px; right: 0px; bottom: 0px; padding-left: 12px; padding-right: 10px;"><div class="notranslate" style="display: flex; align-items: center; line-height: 1.2; font-size: 14px; height: 100%; flex-grow: 0; margin-right: 8px; min-width: 0px;"><div class="notion-selectable notion-page-block" data-block-id="eacfda26-cfc0-40fe-bb37-c5e7f45c2574" style="display: flex; align-items: center; min-width: 0px;"><a href="/" rel="noopener noreferrer" style="display: flex; text-decoration: none; user-select: none; cursor: pointer; color: inherit; min-width: 0px;"><div class="notion-focusable" role="button" style="user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; display: inline-flex; align-items: center; flex-shrink: 1; white-space: nowrap; height: 24px; border-radius: 3px; font-size: inherit; line-height: 1.2; min-width: 0px; padding-left: 6px; padding-right: 6px; color: rgb(55, 53, 47);" tabindex="0"><div style="display: flex; align-items: center; min-width: 0px;"><div aria-disabled="true" class="notion-record-icon notranslate notion-focusable" role="button" style="user-select: none; transition: background 20ms ease-in 0s; display: flex; align-items: center; justify-content: center; height: 20px; width: 20px; border-radius: 3px; flex-shrink: 0; margin-right: 6px;" tabindex="-1"><div><div style="width: 100%; height: 100%;"><img src="be3d28acd30b0566f96adaed758becc7396a8632.png" style="display: block; object-fit: cover; border-radius: 3px; width: 17.76px; height: 17.76px; transition: opacity 100ms ease-out 0s;"/></div></div></div><div class="notranslate" style="white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 160px;">Tolerant</div></div></div></a></div><span style="margin-left: 2px; margin-right: 2px; color: rgba(55, 53, 47, 0.4);">/</span><div class="notion-selectable notion-page-block" data-block-id="a75db88c-8970-490e-a359-108586f94017" style="display: flex; align-items: center; min-width: 0px;"><a href="blockchain.html" rel="noopener noreferrer" style="display: flex; text-decoration: none; user-select: none; cursor: pointer; color: inherit; min-width: 0px;"><div class="notion-focusable" role="button" style="user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; display: inline-flex; align-items: center; flex-shrink: 1; white-space: nowrap; height: 24px; border-radius: 3px; font-size: inherit; line-height: 1.2; min-width: 0px; padding-left: 6px; padding-right: 6px; color: rgb(55, 53, 47);" tabindex="0"><div style="display: flex; align-items: center; min-width: 0px;"><div aria-disabled="true" class="notion-record-icon notranslate notion-focusable" role="button" style="user-select: none; transition: background 20ms ease-in 0s; display: flex; align-items: center; justify-content: center; height: 20px; width: 20px; border-radius: 3px; flex-shrink: 0; margin-right: 6px;" tabindex="-1"><div><div style="width: 100%; height: 100%;"><img src="29af51866f721a7d96050436d7c5277bc0801bcc.png" style="display: block; object-fit: cover; border-radius: 3px; width: 17.76px; height: 17.76px; transition: opacity 100ms ease-out 0s;"/></div></div></div><div class="notranslate" style="white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 160px;">Blockchain</div></div></div></a></div><span style="margin-left: 2px; margin-right: 2px; color: rgba(55, 53, 47, 0.4);">/</span><div aria-disabled="true" class="notion-focusable" role="button" style="user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; flex-shrink: 1; white-space: nowrap; height: 24px; border-radius: 3px; font-size: 14px; line-height: 1.2; min-width: 0px; padding-left: 6px; padding-right: 6px; color: rgb(55, 53, 47);" tabindex="-1"><div class="notranslate" style="white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 240px;">Game</div></div></div><div style="flex-grow: 1; flex-shrink: 1;"></div><div class="notion-focusable" role="button" style="user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; display: inline-flex; align-items: center; flex-shrink: 0; white-space: nowrap; height: 28px; border-radius: 3px; font-size: 14px; line-height: 1.2; min-width: 0px; padding-left: 8px; padding-right: 8px; color: rgb(55, 53, 47);" tabindex="0"><svg class="searchNew" style="width: 14px; height: 14px; display: block; fill: inherit; flex-shrink: 0; backface-visibility: hidden; margin-right: 6px;" viewbox="0 0 17 17"><path d="M6.78027 13.6729C8.24805 13.6729 9.60156 13.1982 10.709 12.4072L14.875 16.5732C15.0684 16.7666 15.3232 16.8633 15.5957 16.8633C16.167 16.8633 16.5713 16.4238 16.5713 15.8613C16.5713 15.5977 16.4834 15.3516 16.29 15.1582L12.1504 11.0098C13.0205 9.86719 13.5391 8.45215 13.5391 6.91406C13.5391 3.19629 10.498 0.155273 6.78027 0.155273C3.0625 0.155273 0.0214844 3.19629 0.0214844 6.91406C0.0214844 10.6318 3.0625 13.6729 6.78027 13.6729ZM6.78027 12.2139C3.87988 12.2139 1.48047 9.81445 1.48047 6.91406C1.48047 4.01367 3.87988 1.61426 6.78027 1.61426C9.68066 1.61426 12.0801 4.01367 12.0801 6.91406C12.0801 9.81445 9.68066 12.2139 6.78027 12.2139Z"></path></svg>Search</div><div class="notion-focusable" role="button" style="user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; display: inline-flex; align-items: center; flex-shrink: 0; white-space: nowrap; height: 28px; border-radius: 3px; font-size: 14px; line-height: 1.2; min-width: 0px; padding-left: 8px; padding-right: 8px; color: rgb(55, 53, 47);" tabindex="0">Duplicate</div><div class="notion-focusable" role="button" style="user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; display: flex; align-items: center; justify-content: center; width: 32px; height: 28px; border-radius: 3px;" tabindex="0"><svg class="dots" style="width: 18px; height: 18px; display: block; fill: inherit; flex-shrink: 0; backface-visibility: hidden;" viewbox="0 0 13 3"><g> <path d="M3,1.5A1.5,1.5,0,1,1,1.5,0,1.5,1.5,0,0,1,3,1.5Z"></path> <path d="M8,1.5A1.5,1.5,0,1,1,6.5,0,1.5,1.5,0,0,1,8,1.5Z"></path> <path d="M13,1.5A1.5,1.5,0,1,1,11.5,0,1.5,1.5,0,0,1,13,1.5Z"></path> </g></svg></div><div style="flex: 0 0 auto; width: 1px; height: 16px; margin-left: 8px; margin-right: 8px; background: rgba(55, 53, 47, 0.16);"></div><div class="notion-focusable" role="button" style="user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; display: inline-flex; align-items: center; flex-shrink: 0; white-space: nowrap; height: 28px; border-radius: 3px; font-size: 14px; line-height: 1.2; min-width: 0px; padding-left: 8px; padding-right: 8px; color: rgb(55, 53, 47);" tabindex="0"><svg class="notionLogo" style="width: 18px; height: 18px; display: block; fill: inherit; flex-shrink: 0; backface-visibility: hidden; margin-right: 6px;" viewbox="0 0 120 126"><path d="M 20.6927 21.9315C 24.5836 25.0924 26.0432 24.8512 33.3492 24.3638L 102.228 20.2279C 103.689 20.2279 102.474 18.7705 101.987 18.5283L 90.5477 10.2586C 88.3558 8.55699 85.4356 6.60818 79.8387 7.09563L 13.1433 11.9602C 10.711 12.2014 10.2251 13.4175 11.1939 14.3924L 20.6927 21.9315ZM 24.8281 37.9835L 24.8281 110.456C 24.8281 114.351 26.7745 115.808 31.1553 115.567L 106.853 111.187C 111.236 110.946 111.724 108.267 111.724 105.103L 111.724 33.1169C 111.724 29.958 110.509 28.2544 107.826 28.4976L 28.721 33.1169C 25.8018 33.3622 24.8281 34.8225 24.8281 37.9835ZM 99.5567 41.8711C 100.042 44.0622 99.5567 46.2512 97.3618 46.4974L 93.7143 47.2241L 93.7143 100.728C 90.5477 102.43 87.6275 103.403 85.1942 103.403C 81.2983 103.403 80.3226 102.186 77.4044 98.54L 53.5471 61.087L 53.5471 97.3239L 61.0964 99.0275C 61.0964 99.0275 61.0964 103.403 55.0057 103.403L 38.2148 104.377C 37.727 103.403 38.2148 100.973 39.9179 100.486L 44.2996 99.2717L 44.2996 51.36L 38.2158 50.8725C 37.728 48.6815 38.9431 45.5225 42.3532 45.2773L 60.3661 44.0631L 85.1942 82.0036L 85.1942 48.4402L 78.864 47.7136C 78.3781 45.0351 80.3226 43.0902 82.7569 42.849L 99.5567 41.8711ZM 7.5434 5.39404L 76.9175 0.285276C 85.4366 -0.445402 87.6285 0.0440428 92.983 3.93368L 115.128 19.4982C 118.782 22.1747 120 22.9034 120 25.8211L 120 111.187C 120 116.537 118.051 119.701 111.237 120.185L 30.6734 125.05C 25.5584 125.294 23.124 124.565 20.4453 121.158L 4.13735 99.9994C 1.21516 96.1048 0 93.191 0 89.7819L 0 13.903C 0 9.5279 1.94945 5.8785 7.5434 5.39404Z"></path></svg>Notion</div></div></div><div style="width: 100%; user-select: none;"></div></div><div class="notion-scroller vertical horizontal" style="display: flex; flex-direction: column; z-index: 1; flex-grow: 1; position: relative; width: 100%; align-items: center; overflow: auto; margin-right: 0px; margin-bottom: 0px;"><div style="width: 100%; display: flex; flex-direction: column; align-items: center; flex-shrink: 0; flex-grow: 0;"><div style="padding-left: calc(96px + env(safe-area-inset-left)); padding-right: calc(96px + env(safe-area-inset-right)); max-width: 100%; width: 900px;"><div class="notion-page-controls" style='display: flex; justify-content: flex-start; flex-wrap: wrap; margin-top: 80px; margin-bottom: 4px; margin-left: -1px; color: rgba(55, 53, 47, 0.4); font-family: ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol"; height: 24px;'></div><div class="notion-selectable notion-page-block" data-block-id="45cb4065-6df2-461b-9c82-b6be02d8c4f1" style='color: rgb(55, 53, 47); font-weight: 700; line-height: 1.2; font-size: 40px; font-family: ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol"; cursor: text; display: flex; align-items: center;'><div contenteditable="false" data-content-editable-leaf="true" placeholder="Untitled" spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;">Game</div></div></div></div><div style="width: 100%; display: flex; flex-direction: column; align-items: center; flex-shrink: 0; flex-grow: 0;"><div contenteditable="false" data-content-editable-void="true" style="padding-left: calc(96px + env(safe-area-inset-left)); padding-right: calc(96px + env(safe-area-inset-right)); max-width: 100%; width: 900px;"><div class="notion-page-details-controls" style='display: flex; align-items: baseline; justify-content: flex-start; flex-wrap: wrap; color: rgba(55, 53, 47, 0.4); font-family: ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol"; padding-bottom: 20px;'></div></div></div><div class="notion-page-content" style="flex-shrink: 0; flex-grow: 1; width: 900px; max-width: 100%; display: flex; align-items: center; flex-direction: column; font-size: 16px; line-height: 1.5; padding-left: calc(96px + env(safe-area-inset-left)); padding-right: calc(96px + env(safe-area-inset-right)); padding-bottom: 30vh;"><div class="notion-selectable notion-text-block" data-block-id="1a3269c8-15d8-4bd4-985b-213306ae5ff7" style="width: 100%; max-width: 1713px; margin-top: 2px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; min-height: 1em; color: rgb(55, 53, 47); -webkit-text-fill-color: rgba(55, 53, 47, 0.4);"></div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="058bde6b-dc8a-4592-8b19-82d40b14342a" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;">取模运算</div></div></div></div><div class="notion-selectable notion-code-block" data-block-id="af32398d-f1cd-4ebe-aeae-e612c7b62f88" style="width: 100%; max-width: 1713px; margin-top: 4px; margin-bottom: 4px;"><div style="display: flex;"><div contenteditable="false" data-content-editable-void="true" style="flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;"><div class="line-numbers notion-code-block" style="display: flex; overflow-x: auto;"><div autocapitalize="off" autocorrect="off" contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="false" style='flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;'></div></div><div style="position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;"></div><div style="position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;"><div aria-disabled="true" class="notion-focusable" role="button" style="user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;" tabindex="-1">Bash<svg class="chevronDown" style="width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;" viewbox="0 0 30 30"><polygon points="15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 "></polygon></svg></div></div><div style="background: white; padding-right: 105px;"></div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="62a1722d-35cd-419d-9c6c-ac195bfa9491" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; min-height: 1em; color: rgb(55, 53, 47); -webkit-text-fill-color: rgba(55, 53, 47, 0.4);"></div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="2640a48b-6442-4665-a722-74d079c9a47e" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; min-height: 1em; color: rgb(55, 53, 47); -webkit-text-fill-color: rgba(55, 53, 47, 0.4);"></div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="2dc90ea8-b743-4b2b-9977-5d1a7106ac62" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;">定义合约</div></div></div></div><div class="notion-selectable notion-code-block" data-block-id="efb0dce1-48ea-4bbd-9794-9b935d1849ea" style="width: 100%; max-width: 1713px; margin-top: 4px; margin-bottom: 4px;"><div style="display: flex;"><div contenteditable="false" data-content-editable-void="true" style="flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;"><div class="line-numbers notion-code-block" style="display: flex; overflow-x: auto;"><div autocapitalize="off" autocorrect="off" contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="false" style='flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;'><span class="" data-token-index="0">pragma solidity </span><span class="token operator" data-token-index="0">^</span><span class="token number" data-token-index="0">0.4</span><span class="token number" data-token-index="0">.19</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0"> </span><span class="token comment" data-token-index="0">// 说明当前使用的Solidity编译器版本</span><span class="" data-token-index="0">
</span><span class="token comment" data-token-index="0">// 这里定义了一个合约 </span><span class="" data-token-index="0">
contract ZombieFactory </span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">
</span><span class="token punctuation" data-token-index="0">}</span><span class="" data-token-index="0">
</span><span>
</span></div></div><div style="position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;"></div><div style="position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;"><div aria-disabled="true" class="notion-focusable" role="button" style="user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;" tabindex="-1">JavaScript<svg class="chevronDown" style="width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;" viewbox="0 0 30 30"><polygon points="15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 "></polygon></svg></div></div><div style="background: white; padding-right: 105px;"></div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="a9834ef0-5c4e-4105-b5d9-5671b82db1f3" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; min-height: 1em; color: rgb(55, 53, 47); -webkit-text-fill-color: rgba(55, 53, 47, 0.4);"></div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="4746372e-3e58-47dc-80dd-62f54d887471" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;">使用状态变量()</div></div></div></div><div class="notion-selectable notion-code-block" data-block-id="b6b32a2a-87f1-48df-b08d-a29053a45428" style="width: 100%; max-width: 1713px; margin-top: 4px; margin-bottom: 4px;"><div style="display: flex;"><div contenteditable="false" data-content-editable-void="true" style="flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;"><div class="line-numbers notion-code-block" style="display: flex; overflow-x: auto;"><div autocapitalize="off" autocorrect="off" contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="false" style='flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;'><span class="" data-token-index="0">pragma solidity </span><span class="token operator" data-token-index="0">^</span><span class="token number" data-token-index="0">0.4</span><span class="token number" data-token-index="0">.19</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token comment" data-token-index="0">/*
状态变量是永久存储在合约中的类型，这里我们用到了无符号整数类型
*/</span><span class="" data-token-index="0">
contract ZombieFactory </span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">
</span><span class="token comment" data-token-index="0">// 声明并赋值了一个uint</span><span class="" data-token-index="0">
    uint dnaDigits </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> </span><span class="token number" data-token-index="0">16</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token punctuation" data-token-index="0">}</span><span>
</span></div></div><div style="position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;"></div><div style="position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;"><div aria-disabled="true" class="notion-focusable" role="button" style="user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;" tabindex="-1">JavaScript<svg class="chevronDown" style="width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;" viewbox="0 0 30 30"><polygon points="15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 "></polygon></svg></div></div><div style="background: white; padding-right: 105px;"></div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="e909e3ec-c1b0-4bf9-903b-8b8cb067ba36" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; min-height: 1em; color: rgb(55, 53, 47); -webkit-text-fill-color: rgba(55, 53, 47, 0.4);"></div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="03751f87-c792-4a4c-bd10-480b64c20834" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;">数学运算</div></div></div></div><div class="notion-selectable notion-code-block" data-block-id="75e2e90e-fca0-4fc8-ab1b-94e7aebb576c" style="width: 100%; max-width: 1713px; margin-top: 4px; margin-bottom: 4px;"><div style="display: flex;"><div contenteditable="false" data-content-editable-void="true" style="flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;"><div class="line-numbers notion-code-block" style="display: flex; overflow-x: auto;"><div autocapitalize="off" autocorrect="off" contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="false" style='flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;'><span class="" data-token-index="0">pragma solidity </span><span class="token operator" data-token-index="0">^</span><span class="token number" data-token-index="0">0.4</span><span class="token number" data-token-index="0">.19</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">

contract ZombieFactory </span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">

    uint dnaDigits </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> </span><span class="token number" data-token-index="0">16</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
    uint dnaModulus </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> </span><span class="token number" data-token-index="0">10</span><span class="" data-token-index="0"> </span><span class="token operator" data-token-index="0">**</span><span class="" data-token-index="0"> dnaDigits</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token punctuation" data-token-index="0">}</span><span>
</span></div></div><div style="position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;"></div><div style="position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;"><div aria-disabled="true" class="notion-focusable" role="button" style="user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;" tabindex="-1">JavaScript<svg class="chevronDown" style="width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;" viewbox="0 0 30 30"><polygon points="15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 "></polygon></svg></div></div><div style="background: white; padding-right: 105px;"></div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="1478d630-7b19-4e18-b8f5-24dd222f8e46" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; min-height: 1em; color: rgb(55, 53, 47); -webkit-text-fill-color: rgba(55, 53, 47, 0.4);"></div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="2523ef04-cfd7-44c2-bb5b-9de82f1e984c" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;">结构体</div></div></div></div><div class="notion-selectable notion-code-block" data-block-id="211c8574-cde7-4ceb-a012-16e86702406b" style="width: 100%; max-width: 1713px; margin-top: 4px; margin-bottom: 4px;"><div style="display: flex;"><div contenteditable="false" data-content-editable-void="true" style="flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;"><div class="line-numbers notion-code-block" style="display: flex; overflow-x: auto;"><div autocapitalize="off" autocorrect="off" contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="false" style='flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;'><span class="" data-token-index="0">pragma solidity </span><span class="token operator" data-token-index="0">^</span><span class="token number" data-token-index="0">0.4</span><span class="token number" data-token-index="0">.19</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">

contract ZombieFactory </span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">

    uint dnaDigits </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> </span><span class="token number" data-token-index="0">16</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
    uint dnaModulus </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> </span><span class="token number" data-token-index="0">10</span><span class="" data-token-index="0"> </span><span class="token operator" data-token-index="0">**</span><span class="" data-token-index="0"> dnaDigits</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token comment" data-token-index="0">/* 
    结构体是一种复合数据类型，可以用来存放更复杂的数据, 
    这里我们使用结构来定义某一事物的多种属性
    */</span><span class="" data-token-index="0">
    struct Zombie </span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">
        string name</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
        uint dna</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token punctuation" data-token-index="0">}</span><span class="" data-token-index="0">
</span><span class="token punctuation" data-token-index="0">}</span><span>
</span></div></div><div style="position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;"></div><div style="position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;"><div aria-disabled="true" class="notion-focusable" role="button" style="user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;" tabindex="-1">JavaScript<svg class="chevronDown" style="width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;" viewbox="0 0 30 30"><polygon points="15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 "></polygon></svg></div></div><div style="background: white; padding-right: 105px;"></div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="a55407a5-db59-4750-9f86-deba002b7a12" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; min-height: 1em; color: rgb(55, 53, 47); -webkit-text-fill-color: rgba(55, 53, 47, 0.4);"></div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="7ddc6d52-2ab8-4a4f-a50d-cf15f65e63b5" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;">数组</div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="9fbfe9fe-3d17-46ab-bda8-5101860ddcd6" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; min-height: 1em; color: rgb(55, 53, 47); -webkit-text-fill-color: rgba(55, 53, 47, 0.4);"></div></div></div></div><div class="notion-selectable notion-code-block" data-block-id="9515dee4-4f0c-4dc2-b6d2-77a18cd86d1c" style="width: 100%; max-width: 1713px; margin-top: 4px; margin-bottom: 4px;"><div style="display: flex;"><div contenteditable="false" data-content-editable-void="true" style="flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;"><div class="line-numbers notion-code-block" style="display: flex; overflow-x: auto;"><div autocapitalize="off" autocorrect="off" contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="false" style='flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;'><span class="token comment" data-token-index="0">/*
数组有俩种，分别是静态和动态
*/</span><span class="" data-token-index="0">
</span><span class="token comment" data-token-index="0">// 静态</span><span class="" data-token-index="0">
uint</span><span class="token punctuation" data-token-index="0">[</span><span class="token number" data-token-index="0">4</span><span class="token punctuation" data-token-index="0">]</span><span class="" data-token-index="0"> treesArray</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token comment" data-token-index="0">// 动态</span><span class="" data-token-index="0">
uint</span><span class="token punctuation" data-token-index="0">[</span><span class="token punctuation" data-token-index="0">]</span><span class="" data-token-index="0"> treesArray</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token comment" data-token-index="0">// public数组, 自动创建getter方法，其它合约可以从数组读取数据，但不能写入</span><span class="" data-token-index="0">
uint</span><span class="token punctuation" data-token-index="0">[</span><span class="token punctuation" data-token-index="0">]</span><span class="" data-token-index="0"> </span><span class="token keyword" data-token-index="0">public</span><span class="" data-token-index="0"> treesArray</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span>
</span></div></div><div style="position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;"></div><div style="position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;"><div aria-disabled="true" class="notion-focusable" role="button" style="user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;" tabindex="-1">JavaScript<svg class="chevronDown" style="width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;" viewbox="0 0 30 30"><polygon points="15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 "></polygon></svg></div></div><div style="background: white; padding-right: 105px;"></div></div></div></div><div class="notion-selectable notion-code-block" data-block-id="e6885862-fccd-480d-b83c-c45c1a15d9c3" style="width: 100%; max-width: 1713px; margin-top: 4px; margin-bottom: 4px;"><div style="display: flex;"><div contenteditable="false" data-content-editable-void="true" style="flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;"><div class="line-numbers notion-code-block" style="display: flex; overflow-x: auto;"><div autocapitalize="off" autocorrect="off" contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="false" style='flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;'><span class="" data-token-index="0">pragma solidity </span><span class="token operator" data-token-index="0">^</span><span class="token number" data-token-index="0">0.4</span><span class="token number" data-token-index="0">.19</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">

contract ZombieFactory </span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">

    uint dnaDigits </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> </span><span class="token number" data-token-index="0">16</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
    uint dnaModulus </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> </span><span class="token number" data-token-index="0">10</span><span class="" data-token-index="0"> </span><span class="token operator" data-token-index="0">**</span><span class="" data-token-index="0"> dnaDigits</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">

    struct Zombie </span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">
        string name</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
        uint dna</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token punctuation" data-token-index="0">}</span><span class="" data-token-index="0">
</span><span class="token comment" data-token-index="0">/*
    在这里我们使用数组保存多个同类事物
    */</span><span class="" data-token-index="0">
    Zombie</span><span class="token punctuation" data-token-index="0">[</span><span class="token punctuation" data-token-index="0">]</span><span class="" data-token-index="0"> </span><span class="token keyword" data-token-index="0">public</span><span class="" data-token-index="0"> zombies</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token punctuation" data-token-index="0">}</span><span>
</span></div></div><div style="position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;"></div><div style="position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;"><div aria-disabled="true" class="notion-focusable" role="button" style="user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;" tabindex="-1">JavaScript<svg class="chevronDown" style="width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;" viewbox="0 0 30 30"><polygon points="15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 "></polygon></svg></div></div><div style="background: white; padding-right: 105px;"></div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="4ebd1bcf-ab70-438c-be5e-badb065e2a2a" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; min-height: 1em; color: rgb(55, 53, 47); -webkit-text-fill-color: rgba(55, 53, 47, 0.4);"></div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="52f93c2b-5c45-4336-8438-ada893f6248d" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;">函数</div></div></div></div><div class="notion-selectable notion-code-block" data-block-id="e0376f69-a93c-4a49-b659-2f47bd7caf14" style="width: 100%; max-width: 1713px; margin-top: 4px; margin-bottom: 4px;"><div style="display: flex;"><div contenteditable="false" data-content-editable-void="true" style="flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;"><div class="line-numbers notion-code-block" style="display: flex; overflow-x: auto;"><div autocapitalize="off" autocorrect="off" contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="false" style='flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;'><span class="token comment" data-token-index="0">/*

*/</span><span>
</span></div></div><div style="position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;"></div><div style="position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;"><div aria-disabled="true" class="notion-focusable" role="button" style="user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;" tabindex="-1">JavaScript<svg class="chevronDown" style="width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;" viewbox="0 0 30 30"><polygon points="15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 "></polygon></svg></div></div><div style="background: white; padding-right: 105px;"></div></div></div></div><div class="notion-selectable notion-code-block" data-block-id="259c26bf-44c7-4ea6-8b8f-7c7103b6020f" style="width: 100%; max-width: 1713px; margin-top: 4px; margin-bottom: 4px;"><div style="display: flex;"><div contenteditable="false" data-content-editable-void="true" style="flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;"><div class="line-numbers notion-code-block" style="display: flex; overflow-x: auto;"><div autocapitalize="off" autocorrect="off" contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="false" style='flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;'><span class="" data-token-index="0">pragma solidity </span><span class="token operator" data-token-index="0">^</span><span class="token number" data-token-index="0">0.4</span><span class="token number" data-token-index="0">.19</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">

contract ZombieFactory </span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">

    uint dnaDigits </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> </span><span class="token number" data-token-index="0">16</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
    uint dnaModulus </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> </span><span class="token number" data-token-index="0">10</span><span class="" data-token-index="0"> </span><span class="token operator" data-token-index="0">**</span><span class="" data-token-index="0"> dnaDigits</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">

    struct Zombie </span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">
        string name</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
        uint dna</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token punctuation" data-token-index="0">}</span><span class="" data-token-index="0">

    Zombie</span><span class="token punctuation" data-token-index="0">[</span><span class="token punctuation" data-token-index="0">]</span><span class="" data-token-index="0"> </span><span class="token keyword" data-token-index="0">public</span><span class="" data-token-index="0"> zombies</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token keyword" data-token-index="0">function</span><span class="" data-token-index="0"> </span><span class="token function" data-token-index="0">createZombie</span><span class="token punctuation" data-token-index="0">(</span><span class="token parameter" data-token-index="0">string _name</span><span class="token punctuation" data-token-index="0">,</span><span class="token parameter" data-token-index="0"> uint _dna</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">
</span><span class="token punctuation" data-token-index="0">}</span><span class="" data-token-index="0">
</span><span class="token punctuation" data-token-index="0">}</span><span>
</span></div></div><div style="position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;"></div><div style="position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;"><div aria-disabled="true" class="notion-focusable" role="button" style="user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;" tabindex="-1">JavaScript<svg class="chevronDown" style="width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;" viewbox="0 0 30 30"><polygon points="15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 "></polygon></svg></div></div><div style="background: white; padding-right: 105px;"></div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="a4f58286-d905-4ae2-8aac-200bc2b4e3d5" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; min-height: 1em; color: rgb(55, 53, 47); -webkit-text-fill-color: rgba(55, 53, 47, 0.4);"></div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="9c4ce997-bcc2-46cd-8915-c33c3d4ba9d8" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;">实例化结构体，使用数组</div></div></div></div><div class="notion-selectable notion-code-block" data-block-id="08248cc6-9014-4ba1-9577-0e0685260c9f" style="width: 100%; max-width: 1713px; margin-top: 4px; margin-bottom: 4px;"><div style="display: flex;"><div contenteditable="false" data-content-editable-void="true" style="flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;"><div class="line-numbers notion-code-block" style="display: flex; overflow-x: auto;"><div autocapitalize="off" autocorrect="off" contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="false" style='flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;'><span class="token comment" data-token-index="0">// 实例化一个结构体</span><span class="" data-token-index="0">
Zombie tom </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> </span><span class="token function" data-token-index="0">Zombie</span><span class="token punctuation" data-token-index="0">(</span><span class="token string" data-token-index="0">"Tom"</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0"> </span><span class="token string" data-token-index="0">"274973482497"</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0">
</span><span class="token comment" data-token-index="0">// 添加数据到数组，默认从尾部追加</span><span class="" data-token-index="0">
zombies</span><span class="token punctuation" data-token-index="0">.</span><span class="token function" data-token-index="0">push</span><span class="token punctuation" data-token-index="0">(</span><span class="" data-token-index="0">Zombie</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0">
</span><span>
</span></div></div><div style="position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;"></div><div style="position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;"><div aria-disabled="true" class="notion-focusable" role="button" style="user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;" tabindex="-1">JavaScript<svg class="chevronDown" style="width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;" viewbox="0 0 30 30"><polygon points="15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 "></polygon></svg></div></div><div style="background: white; padding-right: 105px;"></div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="b6642148-25af-450f-b7f8-27cee8032ca3" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; min-height: 1em; color: rgb(55, 53, 47); -webkit-text-fill-color: rgba(55, 53, 47, 0.4);"></div></div></div></div><div class="notion-selectable notion-code-block" data-block-id="da399c17-e0ce-42f6-b64a-be23b7eddde7" style="width: 100%; max-width: 1713px; margin-top: 4px; margin-bottom: 4px;"><div style="display: flex;"><div contenteditable="false" data-content-editable-void="true" style="flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;"><div class="line-numbers notion-code-block" style="display: flex; overflow-x: auto;"><div autocapitalize="off" autocorrect="off" contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="false" style='flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;'><span class="" data-token-index="0">pragma solidity </span><span class="token operator" data-token-index="0">^</span><span class="token number" data-token-index="0">0.4</span><span class="token number" data-token-index="0">.19</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">

contract ZombieFactory </span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">

    uint dnaDigits </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> </span><span class="token number" data-token-index="0">16</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
    uint dnaModulus </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> </span><span class="token number" data-token-index="0">10</span><span class="" data-token-index="0"> </span><span class="token operator" data-token-index="0">**</span><span class="" data-token-index="0"> dnaDigits</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">

    struct Zombie </span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">
        string name</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
        uint dna</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token punctuation" data-token-index="0">}</span><span class="" data-token-index="0">

    Zombie</span><span class="token punctuation" data-token-index="0">[</span><span class="token punctuation" data-token-index="0">]</span><span class="" data-token-index="0"> </span><span class="token keyword" data-token-index="0">public</span><span class="" data-token-index="0"> zombies</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token keyword" data-token-index="0">function</span><span class="" data-token-index="0"> </span><span class="token function" data-token-index="0">createZombie</span><span class="token punctuation" data-token-index="0">(</span><span class="token parameter" data-token-index="0">string _name</span><span class="token punctuation" data-token-index="0">,</span><span class="token parameter" data-token-index="0"> uint _dna</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">
        zombies</span><span class="token punctuation" data-token-index="0">.</span><span class="token function" data-token-index="0">push</span><span class="token punctuation" data-token-index="0">(</span><span class="token function" data-token-index="0">Zombie</span><span class="token punctuation" data-token-index="0">(</span><span class="" data-token-index="0">_name</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0"> _dna</span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token punctuation" data-token-index="0">}</span><span class="" data-token-index="0">
</span><span class="token punctuation" data-token-index="0">}</span><span>
</span></div></div><div style="position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;"></div><div style="position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;"><div aria-disabled="true" class="notion-focusable" role="button" style="user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;" tabindex="-1">JavaScript<svg class="chevronDown" style="width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;" viewbox="0 0 30 30"><polygon points="15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 "></polygon></svg></div></div><div style="background: white; padding-right: 105px;"></div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="4e8c67ee-81c1-439e-a868-c62a9d6a3291" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; min-height: 1em; color: rgb(55, 53, 47); -webkit-text-fill-color: rgba(55, 53, 47, 0.4);"></div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="2b5a0f8e-b516-4635-bbc2-4ec6e0856b46" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;">函数的不同种类</div></div></div></div><div class="notion-selectable notion-code-block" data-block-id="3746cb3c-4d59-4804-958d-34ca131fa395" style="width: 100%; max-width: 1713px; margin-top: 4px; margin-bottom: 4px;"><div style="display: flex;"><div contenteditable="false" data-content-editable-void="true" style="flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;"><div class="line-numbers notion-code-block" style="display: flex; overflow-x: auto;"><div autocapitalize="off" autocorrect="off" contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="false" style='flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;'><span class="token comment" data-token-index="0">/*
函数分为public和private，默认是public

public意味着其它的合约也可以调用当前合约中的函数
private反之

*/</span><span>
</span></div></div><div style="position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;"></div><div style="position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;"><div aria-disabled="true" class="notion-focusable" role="button" style="user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;" tabindex="-1">JavaScript<svg class="chevronDown" style="width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;" viewbox="0 0 30 30"><polygon points="15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 "></polygon></svg></div></div><div style="background: white; padding-right: 105px;"></div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="5147cd5b-5a70-4c64-a3c3-9c87c9c4289a" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; min-height: 1em; color: rgb(55, 53, 47); -webkit-text-fill-color: rgba(55, 53, 47, 0.4);"></div></div></div></div><div class="notion-selectable notion-code-block" data-block-id="8304784c-45bf-4553-848d-d190e1bba6a8" style="width: 100%; max-width: 1713px; margin-top: 4px; margin-bottom: 4px;"><div style="display: flex;"><div contenteditable="false" data-content-editable-void="true" style="flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;"><div class="line-numbers notion-code-block" style="display: flex; overflow-x: auto;"><div autocapitalize="off" autocorrect="off" contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="false" style='flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;'><span class="" data-token-index="0">pragma solidity </span><span class="token operator" data-token-index="0">^</span><span class="token number" data-token-index="0">0.4</span><span class="token number" data-token-index="0">.19</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">

contract ZombieFactory </span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">

    uint dnaDigits </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> </span><span class="token number" data-token-index="0">16</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
    uint dnaModulus </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> </span><span class="token number" data-token-index="0">10</span><span class="" data-token-index="0"> </span><span class="token operator" data-token-index="0">**</span><span class="" data-token-index="0"> dnaDigits</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">

    struct Zombie </span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">
        string name</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
        uint dna</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token punctuation" data-token-index="0">}</span><span class="" data-token-index="0">

    Zombie</span><span class="token punctuation" data-token-index="0">[</span><span class="token punctuation" data-token-index="0">]</span><span class="" data-token-index="0"> </span><span class="token keyword" data-token-index="0">public</span><span class="" data-token-index="0"> zombies</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token keyword" data-token-index="0">function</span><span class="" data-token-index="0"> </span><span class="token function" data-token-index="0">_createZombie</span><span class="token punctuation" data-token-index="0">(</span><span class="token parameter" data-token-index="0">string _name</span><span class="token punctuation" data-token-index="0">,</span><span class="token parameter" data-token-index="0"> uint _dna</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0"> </span><span class="token keyword" data-token-index="0">private</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">
        zombies</span><span class="token punctuation" data-token-index="0">.</span><span class="token function" data-token-index="0">push</span><span class="token punctuation" data-token-index="0">(</span><span class="token function" data-token-index="0">Zombie</span><span class="token punctuation" data-token-index="0">(</span><span class="" data-token-index="0">_name</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0"> _dna</span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token punctuation" data-token-index="0">}</span><span class="" data-token-index="0">
</span><span class="token punctuation" data-token-index="0">}</span><span>
</span></div></div><div style="position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;"></div><div style="position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;"><div aria-disabled="true" class="notion-focusable" role="button" style="user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;" tabindex="-1">JavaScript<svg class="chevronDown" style="width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;" viewbox="0 0 30 30"><polygon points="15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 "></polygon></svg></div></div><div style="background: white; padding-right: 105px;"></div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="7c4ea12a-2805-42d4-ac10-0c43bd89d243" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; min-height: 1em; color: rgb(55, 53, 47); -webkit-text-fill-color: rgba(55, 53, 47, 0.4);"></div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="c29f1316-859a-48e4-a0b2-2aed1eff1e71" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; min-height: 1em; color: rgb(55, 53, 47); -webkit-text-fill-color: rgba(55, 53, 47, 0.4);"></div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="6a804003-c70f-4d71-b97c-d3c255664658" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;">函数的返回值和修饰符</div></div></div></div><div class="notion-selectable notion-code-block" data-block-id="9f582043-f9a9-42ea-ae6e-5ae4b262788c" style="width: 100%; max-width: 1713px; margin-top: 4px; margin-bottom: 4px;"><div style="display: flex;"><div contenteditable="false" data-content-editable-void="true" style="flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;"><div class="line-numbers notion-code-block" style="display: flex; overflow-x: auto;"><div autocapitalize="off" autocorrect="off" contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="false" style='flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;'><span class="token comment" data-token-index="0">/*
用以下方式表示函数哟返回数据
string name = "Tom"

function sayName() public returns (string) {
    return name
}
*/</span><span class="" data-token-index="0">
</span><span class="token comment" data-token-index="0">/*
当函数并没有改变合约状态，可以使用view，表示不能更改数据

当函数不读取任何状态变量，返回值取决于输入参数，可以使用pure
*/</span><span>
</span></div></div><div style="position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;"></div><div style="position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;"><div aria-disabled="true" class="notion-focusable" role="button" style="user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;" tabindex="-1">JavaScript<svg class="chevronDown" style="width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;" viewbox="0 0 30 30"><polygon points="15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 "></polygon></svg></div></div><div style="background: white; padding-right: 105px;"></div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="c653f821-a011-44a9-803f-0d489f1c3507" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; min-height: 1em; color: rgb(55, 53, 47); -webkit-text-fill-color: rgba(55, 53, 47, 0.4);"></div></div></div></div><div class="notion-selectable notion-code-block" data-block-id="15797d5b-912e-41d2-af2a-b8a66853f45e" style="width: 100%; max-width: 1713px; margin-top: 4px; margin-bottom: 4px;"><div style="display: flex;"><div contenteditable="false" data-content-editable-void="true" style="flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;"><div class="line-numbers notion-code-block" style="display: flex; overflow-x: auto;"><div autocapitalize="off" autocorrect="off" contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="false" style='flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;'><span class="" data-token-index="0">pragma solidity </span><span class="token operator" data-token-index="0">^</span><span class="token number" data-token-index="0">0.4</span><span class="token number" data-token-index="0">.19</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">

contract ZombieFactory </span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">

    uint dnaDigits </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> </span><span class="token number" data-token-index="0">16</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
    uint dnaModulus </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> </span><span class="token number" data-token-index="0">10</span><span class="" data-token-index="0"> </span><span class="token operator" data-token-index="0">**</span><span class="" data-token-index="0"> dnaDigits</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">

    struct Zombie </span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">
        string name</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
        uint dna</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token punctuation" data-token-index="0">}</span><span class="" data-token-index="0">

    Zombie</span><span class="token punctuation" data-token-index="0">[</span><span class="token punctuation" data-token-index="0">]</span><span class="" data-token-index="0"> </span><span class="token keyword" data-token-index="0">public</span><span class="" data-token-index="0"> zombies</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token keyword" data-token-index="0">function</span><span class="" data-token-index="0"> </span><span class="token function" data-token-index="0">_createZombie</span><span class="token punctuation" data-token-index="0">(</span><span class="token parameter" data-token-index="0">string _name</span><span class="token punctuation" data-token-index="0">,</span><span class="token parameter" data-token-index="0"> uint _dna</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0"> </span><span class="token keyword" data-token-index="0">private</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">
        zombies</span><span class="token punctuation" data-token-index="0">.</span><span class="token function" data-token-index="0">push</span><span class="token punctuation" data-token-index="0">(</span><span class="token function" data-token-index="0">Zombie</span><span class="token punctuation" data-token-index="0">(</span><span class="" data-token-index="0">_name</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0"> _dna</span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token punctuation" data-token-index="0">}</span><span class="" data-token-index="0">
</span><span class="token keyword" data-token-index="0">function</span><span class="" data-token-index="0"> </span><span class="token function" data-token-index="0">_generateRandomDna</span><span class="token punctuation" data-token-index="0">(</span><span class="token parameter" data-token-index="0">string _str</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0"> </span><span class="token keyword" data-token-index="0">private</span><span class="" data-token-index="0"> view </span><span class="token function" data-token-index="0">returns</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">(</span><span class="token parameter" data-token-index="0">uint</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">
</span><span class="token punctuation" data-token-index="0">}</span><span class="" data-token-index="0">
</span><span class="token punctuation" data-token-index="0">}</span><span>
</span></div></div><div style="position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;"></div><div style="position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;"><div aria-disabled="true" class="notion-focusable" role="button" style="user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;" tabindex="-1">JavaScript<svg class="chevronDown" style="width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;" viewbox="0 0 30 30"><polygon points="15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 "></polygon></svg></div></div><div style="background: white; padding-right: 105px;"></div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="2babb1c6-69e9-449a-beaa-c5e8ed9be4be" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; min-height: 1em; color: rgb(55, 53, 47); -webkit-text-fill-color: rgba(55, 53, 47, 0.4);"></div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="1d6755b5-42a3-407c-b519-1947f3726bd6" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;">Keccak256和类型转换</div></div></div></div><div class="notion-selectable notion-code-block" data-block-id="32cc5167-0ada-45e7-8374-7195509b88ff" style="width: 100%; max-width: 1713px; margin-top: 4px; margin-bottom: 4px;"><div style="display: flex;"><div contenteditable="false" data-content-editable-void="true" style="flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;"><div class="line-numbers notion-code-block" style="display: flex; overflow-x: auto;"><div autocapitalize="off" autocorrect="off" contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="false" style='flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;'><span class="token comment" data-token-index="0">/*
keccak256将字符串转换为256位16进制数
*/</span><span class="" data-token-index="0">
</span><span class="token function" data-token-index="0">Keccak256</span><span class="token punctuation" data-token-index="0">(</span><span class="token string" data-token-index="0">"fjskgjsgskjfgksd"</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0">
</span><span class="token comment" data-token-index="0">/*
类型转换的方式

uint8 a = 5;
uint b = 10;

uint8 c = a * uint8(b);
*/</span><span class="" data-token-index="0">
</span><span>
</span></div></div><div style="position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;"></div><div style="position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;"><div aria-disabled="true" class="notion-focusable" role="button" style="user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;" tabindex="-1">JavaScript<svg class="chevronDown" style="width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;" viewbox="0 0 30 30"><polygon points="15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 "></polygon></svg></div></div><div style="background: white; padding-right: 105px;"></div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="a6df1485-7956-4432-97dc-67d616781e38" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; min-height: 1em; color: rgb(55, 53, 47); -webkit-text-fill-color: rgba(55, 53, 47, 0.4);"></div></div></div></div><div class="notion-selectable notion-code-block" data-block-id="c488dfea-9dc2-4525-8b67-2dcb6785de14" style="width: 100%; max-width: 1713px; margin-top: 4px; margin-bottom: 4px;"><div style="display: flex;"><div contenteditable="false" data-content-editable-void="true" style="flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;"><div class="line-numbers notion-code-block" style="display: flex; overflow-x: auto;"><div autocapitalize="off" autocorrect="off" contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="false" style='flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;'><span class="" data-token-index="0">pragma solidity </span><span class="token operator" data-token-index="0">^</span><span class="token number" data-token-index="0">0.4</span><span class="token number" data-token-index="0">.19</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">

contract ZombieFactory </span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">

    uint dnaDigits </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> </span><span class="token number" data-token-index="0">16</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
    uint dnaModulus </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> </span><span class="token number" data-token-index="0">10</span><span class="" data-token-index="0"> </span><span class="token operator" data-token-index="0">**</span><span class="" data-token-index="0"> dnaDigits</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">

    struct Zombie </span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">
        string name</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
        uint dna</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token punctuation" data-token-index="0">}</span><span class="" data-token-index="0">

    Zombie</span><span class="token punctuation" data-token-index="0">[</span><span class="token punctuation" data-token-index="0">]</span><span class="" data-token-index="0"> </span><span class="token keyword" data-token-index="0">public</span><span class="" data-token-index="0"> zombies</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token keyword" data-token-index="0">function</span><span class="" data-token-index="0"> </span><span class="token function" data-token-index="0">_createZombie</span><span class="token punctuation" data-token-index="0">(</span><span class="token parameter" data-token-index="0">string _name</span><span class="token punctuation" data-token-index="0">,</span><span class="token parameter" data-token-index="0"> uint _dna</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0"> </span><span class="token keyword" data-token-index="0">private</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">
        zombies</span><span class="token punctuation" data-token-index="0">.</span><span class="token function" data-token-index="0">push</span><span class="token punctuation" data-token-index="0">(</span><span class="token function" data-token-index="0">Zombie</span><span class="token punctuation" data-token-index="0">(</span><span class="" data-token-index="0">_name</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0"> _dna</span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token punctuation" data-token-index="0">}</span><span class="" data-token-index="0">
</span><span class="token keyword" data-token-index="0">function</span><span class="" data-token-index="0"> </span><span class="token function" data-token-index="0">_generateRandomDna</span><span class="token punctuation" data-token-index="0">(</span><span class="token parameter" data-token-index="0">string _str</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0"> </span><span class="token keyword" data-token-index="0">private</span><span class="" data-token-index="0"> view </span><span class="token function" data-token-index="0">returns</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">(</span><span class="token parameter" data-token-index="0">uint</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">
        uint rand </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> </span><span class="token function" data-token-index="0">uint</span><span class="token punctuation" data-token-index="0">(</span><span class="token function" data-token-index="0">keccak256</span><span class="token punctuation" data-token-index="0">(</span><span class="" data-token-index="0">_str</span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token keyword" data-token-index="0">return</span><span class="" data-token-index="0"> rand </span><span class="token operator" data-token-index="0">%</span><span class="" data-token-index="0"> dnaModulus</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token punctuation" data-token-index="0">}</span><span class="" data-token-index="0">
</span><span class="token punctuation" data-token-index="0">}</span><span>
</span></div></div><div style="position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;"></div><div style="position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;"><div aria-disabled="true" class="notion-focusable" role="button" style="user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;" tabindex="-1">JavaScript<svg class="chevronDown" style="width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;" viewbox="0 0 30 30"><polygon points="15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 "></polygon></svg></div></div><div style="background: white; padding-right: 105px;"></div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="2b0f7b79-a3c4-4c88-97f9-f62f6f182a1a" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; min-height: 1em; color: rgb(55, 53, 47); -webkit-text-fill-color: rgba(55, 53, 47, 0.4);"></div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="06ddcea2-b8be-46b7-9fea-7a5d54298c6e" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;">事件</div></div></div></div><div class="notion-selectable notion-code-block" data-block-id="ec3da990-6f9e-4c40-91ed-5e83dab1425e" style="width: 100%; max-width: 1713px; margin-top: 4px; margin-bottom: 4px;"><div style="display: flex;"><div contenteditable="false" data-content-editable-void="true" style="flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;"><div class="line-numbers notion-code-block" style="display: flex; overflow-x: auto;"><div autocapitalize="off" autocorrect="off" contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="false" style='flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;'><span class="token comment" data-token-index="0">/*
事件可以触发前端作出对应的反应

event Addname();

function sayName(string name) public {
		...
    Addname();
		...
}
*/</span><span>
</span></div></div><div style="position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;"></div><div style="position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;"><div aria-disabled="true" class="notion-focusable" role="button" style="user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;" tabindex="-1">JavaScript<svg class="chevronDown" style="width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;" viewbox="0 0 30 30"><polygon points="15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 "></polygon></svg></div></div><div style="background: white; padding-right: 105px;"></div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="8a2e3054-147e-47b2-8c0c-d0abe77aee98" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; min-height: 1em; color: rgb(55, 53, 47); -webkit-text-fill-color: rgba(55, 53, 47, 0.4);"></div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="3424e049-da8e-4304-aee0-8548ed747730" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; min-height: 1em; color: rgb(55, 53, 47); -webkit-text-fill-color: rgba(55, 53, 47, 0.4);"></div></div></div></div><div class="notion-selectable notion-code-block" data-block-id="d0592804-89db-4397-8b7a-521ac59797f8" style="width: 100%; max-width: 1713px; margin-top: 4px; margin-bottom: 4px;"><div style="display: flex;"><div contenteditable="false" data-content-editable-void="true" style="flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;"><div class="line-numbers notion-code-block" style="display: flex; overflow-x: auto;"><div autocapitalize="off" autocorrect="off" contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="false" style='flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;'><span class="" data-token-index="0">pragma solidity </span><span class="token operator" data-token-index="0">^</span><span class="token number" data-token-index="0">0.4</span><span class="token number" data-token-index="0">.19</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">

contract ZombieFactory </span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">
</span><span class="token function" data-token-index="0">NewZombie</span><span class="token punctuation" data-token-index="0">(</span><span class="" data-token-index="0">uint zombieId</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0"> string name</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0"> uint dna</span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">

    uint dnaDigits </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> </span><span class="token number" data-token-index="0">16</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
    uint dnaModulus </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> </span><span class="token number" data-token-index="0">10</span><span class="" data-token-index="0"> </span><span class="token operator" data-token-index="0">**</span><span class="" data-token-index="0"> dnaDigits</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">

    struct Zombie </span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">
        string name</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
        uint dna</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token punctuation" data-token-index="0">}</span><span class="" data-token-index="0">

    Zombie</span><span class="token punctuation" data-token-index="0">[</span><span class="token punctuation" data-token-index="0">]</span><span class="" data-token-index="0"> </span><span class="token keyword" data-token-index="0">public</span><span class="" data-token-index="0"> zombies</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token keyword" data-token-index="0">function</span><span class="" data-token-index="0"> </span><span class="token function" data-token-index="0">_createZombie</span><span class="token punctuation" data-token-index="0">(</span><span class="token parameter" data-token-index="0">string _name</span><span class="token punctuation" data-token-index="0">,</span><span class="token parameter" data-token-index="0"> uint _dna</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0"> </span><span class="token keyword" data-token-index="0">private</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">
        zombies</span><span class="token punctuation" data-token-index="0">.</span><span class="token function" data-token-index="0">push</span><span class="token punctuation" data-token-index="0">(</span><span class="token function" data-token-index="0">Zombie</span><span class="token punctuation" data-token-index="0">(</span><span class="" data-token-index="0">_name</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0"> _dna</span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
        uint id </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> zombies</span><span class="token punctuation" data-token-index="0">.</span><span class="token function" data-token-index="0">push</span><span class="token punctuation" data-token-index="0">(</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0"> </span><span class="token operator" data-token-index="0">-</span><span class="" data-token-index="0"> </span><span class="token number" data-token-index="0">1</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token function" data-token-index="0">NewZombie</span><span class="token punctuation" data-token-index="0">(</span><span class="" data-token-index="0">uint id</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0"> string _name</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0"> uint _dna</span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token punctuation" data-token-index="0">}</span><span class="" data-token-index="0">
</span><span class="token keyword" data-token-index="0">function</span><span class="" data-token-index="0"> </span><span class="token function" data-token-index="0">_generateRandomDna</span><span class="token punctuation" data-token-index="0">(</span><span class="token parameter" data-token-index="0">string _str</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0"> </span><span class="token keyword" data-token-index="0">private</span><span class="" data-token-index="0"> view </span><span class="token function" data-token-index="0">returns</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">(</span><span class="token parameter" data-token-index="0">uint</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">
        uint rand </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> </span><span class="token function" data-token-index="0">uint</span><span class="token punctuation" data-token-index="0">(</span><span class="token function" data-token-index="0">keccak256</span><span class="token punctuation" data-token-index="0">(</span><span class="" data-token-index="0">_str</span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token keyword" data-token-index="0">return</span><span class="" data-token-index="0"> rand </span><span class="token operator" data-token-index="0">%</span><span class="" data-token-index="0"> dnaModulus</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token punctuation" data-token-index="0">}</span><span class="" data-token-index="0">
</span><span class="token keyword" data-token-index="0">function</span><span class="" data-token-index="0"> </span><span class="token function" data-token-index="0">createRandomZombie</span><span class="token punctuation" data-token-index="0">(</span><span class="token parameter" data-token-index="0">string _name</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0"> </span><span class="token keyword" data-token-index="0">public</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">
        uint randDna </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> </span><span class="token function" data-token-index="0">_generateRandomDna</span><span class="token punctuation" data-token-index="0">(</span><span class="" data-token-index="0">_name</span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token function" data-token-index="0">_createZombie</span><span class="token punctuation" data-token-index="0">(</span><span class="" data-token-index="0">_name</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0"> randDna</span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token punctuation" data-token-index="0">}</span><span class="" data-token-index="0">
</span><span class="token punctuation" data-token-index="0">}</span><span>
</span></div></div><div style="position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;"></div><div style="position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;"><div aria-disabled="true" class="notion-focusable" role="button" style="user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;" tabindex="-1">JavaScript<svg class="chevronDown" style="width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;" viewbox="0 0 30 30"><polygon points="15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 "></polygon></svg></div></div><div style="background: white; padding-right: 105px;"></div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="b8aa51dd-15e1-453b-88b0-d79814881252" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; min-height: 1em; color: rgb(55, 53, 47); -webkit-text-fill-color: rgba(55, 53, 47, 0.4);"></div></div></div></div><div class="notion-selectable notion-code-block" data-block-id="bc10d7de-440a-4f45-8f20-5cd06f7e4258" style="width: 100%; max-width: 1713px; margin-top: 4px; margin-bottom: 4px;"><div style="display: flex;"><div contenteditable="false" data-content-editable-void="true" style="flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;"><div class="line-numbers notion-code-block" style="display: flex; overflow-x: auto;"><div autocapitalize="off" autocorrect="off" contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="false" style='flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;'><span class="token comment" data-token-index="0">// 下面是调用合约的方式:</span><span class="" data-token-index="0">
</span><span class="token keyword" data-token-index="0">var</span><span class="" data-token-index="0"> abi </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> </span><span class="token comment" data-token-index="0">/* abi是由编译器生成的 */</span><span class="" data-token-index="0">
</span><span class="token keyword" data-token-index="0">var</span><span class="" data-token-index="0"> ZombieFactoryContract </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> web3</span><span class="token punctuation" data-token-index="0">.</span><span class="" data-token-index="0">eth</span><span class="token punctuation" data-token-index="0">.</span><span class="token function" data-token-index="0">contract</span><span class="token punctuation" data-token-index="0">(</span><span class="" data-token-index="0">abi</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0">
</span><span class="token keyword" data-token-index="0">var</span><span class="" data-token-index="0"> contractAddress </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> </span><span class="token comment" data-token-index="0">/* 发布之后在以太坊上生成的合约地址 */</span><span class="" data-token-index="0">
</span><span class="token keyword" data-token-index="0">var</span><span class="" data-token-index="0"> ZombieFactory </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> ZombieFactoryContract</span><span class="token punctuation" data-token-index="0">.</span><span class="token function" data-token-index="0">at</span><span class="token punctuation" data-token-index="0">(</span><span class="" data-token-index="0">contractAddress</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0">
</span><span class="token comment" data-token-index="0">// `ZombieFactory` 能访问公共的函数以及事件</span><span class="" data-token-index="0">
</span><span class="token comment" data-token-index="0">// 某个监听文本输入的监听器:</span><span class="" data-token-index="0">
</span><span class="token function" data-token-index="0">$</span><span class="token punctuation" data-token-index="0">(</span><span class="token string" data-token-index="0">"#ourButton"</span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">.</span><span class="token function" data-token-index="0">click</span><span class="token punctuation" data-token-index="0">(</span><span class="token keyword" data-token-index="0">function</span><span class="token punctuation" data-token-index="0">(</span><span class="token parameter" data-token-index="0">e</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">
</span><span class="token keyword" data-token-index="0">var</span><span class="" data-token-index="0"> name </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> </span><span class="token function" data-token-index="0">$</span><span class="token punctuation" data-token-index="0">(</span><span class="token string" data-token-index="0">"#nameInput"</span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">.</span><span class="token function" data-token-index="0">val</span><span class="token punctuation" data-token-index="0">(</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0">
</span><span class="token comment" data-token-index="0">//调用合约的 `createRandomZombie` 函数:</span><span class="" data-token-index="0">
  ZombieFactory</span><span class="token punctuation" data-token-index="0">.</span><span class="token function" data-token-index="0">createRandomZombie</span><span class="token punctuation" data-token-index="0">(</span><span class="" data-token-index="0">name</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0">
</span><span class="token punctuation" data-token-index="0">}</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0">
</span><span class="token comment" data-token-index="0">// 监听 `NewZombie` 事件, 并且更新UI</span><span class="" data-token-index="0">
</span><span class="token keyword" data-token-index="0">var</span><span class="" data-token-index="0"> event </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> ZombieFactory</span><span class="token punctuation" data-token-index="0">.</span><span class="token function" data-token-index="0">NewZombie</span><span class="token punctuation" data-token-index="0">(</span><span class="token keyword" data-token-index="0">function</span><span class="token punctuation" data-token-index="0">(</span><span class="token parameter" data-token-index="0">error</span><span class="token punctuation" data-token-index="0">,</span><span class="token parameter" data-token-index="0"> result</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">
</span><span class="token keyword" data-token-index="0">if</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">(</span><span class="" data-token-index="0">error</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0"> </span><span class="token keyword" data-token-index="0">return</span><span class="" data-token-index="0">
</span><span class="token function" data-token-index="0">generateZombie</span><span class="token punctuation" data-token-index="0">(</span><span class="" data-token-index="0">result</span><span class="token punctuation" data-token-index="0">.</span><span class="" data-token-index="0">zombieId</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0"> result</span><span class="token punctuation" data-token-index="0">.</span><span class="" data-token-index="0">name</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0"> result</span><span class="token punctuation" data-token-index="0">.</span><span class="" data-token-index="0">dna</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0">
</span><span class="token punctuation" data-token-index="0">}</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0">
</span><span class="token comment" data-token-index="0">// 获取 Zombie 的 dna, 更新图像</span><span class="" data-token-index="0">
</span><span class="token keyword" data-token-index="0">function</span><span class="" data-token-index="0"> </span><span class="token function" data-token-index="0">generateZombie</span><span class="token punctuation" data-token-index="0">(</span><span class="token parameter" data-token-index="0">id</span><span class="token punctuation" data-token-index="0">,</span><span class="token parameter" data-token-index="0"> name</span><span class="token punctuation" data-token-index="0">,</span><span class="token parameter" data-token-index="0"> dna</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">
</span><span class="token keyword" data-token-index="0">let</span><span class="" data-token-index="0"> dnaStr </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> </span><span class="token function" data-token-index="0">String</span><span class="token punctuation" data-token-index="0">(</span><span class="" data-token-index="0">dna</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0">
</span><span class="token comment" data-token-index="0">// 如果dna少于16位,在它前面用0补上</span><span class="" data-token-index="0">
</span><span class="token keyword" data-token-index="0">while</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">(</span><span class="" data-token-index="0">dnaStr</span><span class="token punctuation" data-token-index="0">.</span><span class="" data-token-index="0">length </span><span class="token operator" data-token-index="0">&lt;</span><span class="" data-token-index="0"> </span><span class="token number" data-token-index="0">16</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0">
    dnaStr </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> </span><span class="token string" data-token-index="0">"0"</span><span class="" data-token-index="0"> </span><span class="token operator" data-token-index="0">+</span><span class="" data-token-index="0"> dnaStr

  </span><span class="token keyword" data-token-index="0">let</span><span class="" data-token-index="0"> zombieDetails </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">
</span><span class="token comment" data-token-index="0">// 前两位数构成头部.我们可能有7种头部, 所以 % 7</span><span class="" data-token-index="0">
</span><span class="token comment" data-token-index="0">// 得到的数在0-6,再加上1,数的范围变成1-7</span><span class="" data-token-index="0">
</span><span class="token comment" data-token-index="0">// 通过这样计算：</span><span class="" data-token-index="0">
    headChoice</span><span class="token operator" data-token-index="0">:</span><span class="" data-token-index="0"> dnaStr</span><span class="token punctuation" data-token-index="0">.</span><span class="token function" data-token-index="0">substring</span><span class="token punctuation" data-token-index="0">(</span><span class="token number" data-token-index="0">0</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0"> </span><span class="token number" data-token-index="0">2</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0"> </span><span class="token operator" data-token-index="0">%</span><span class="" data-token-index="0"> </span><span class="token number" data-token-index="0">7</span><span class="" data-token-index="0"> </span><span class="token operator" data-token-index="0">+</span><span class="" data-token-index="0"> </span><span class="token number" data-token-index="0">1</span><span class="" data-token-index="0">，
    </span><span class="token comment" data-token-index="0">// 我们得到的图片名称从head1.png 到 head7.png</span><span class="" data-token-index="0">
</span><span class="token comment" data-token-index="0">// 接下来的两位数构成眼睛, 眼睛变化就对11取模:</span><span class="" data-token-index="0">
    eyeChoice</span><span class="token operator" data-token-index="0">:</span><span class="" data-token-index="0"> dnaStr</span><span class="token punctuation" data-token-index="0">.</span><span class="token function" data-token-index="0">substring</span><span class="token punctuation" data-token-index="0">(</span><span class="token number" data-token-index="0">2</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0"> </span><span class="token number" data-token-index="0">4</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0"> </span><span class="token operator" data-token-index="0">%</span><span class="" data-token-index="0"> </span><span class="token number" data-token-index="0">11</span><span class="" data-token-index="0"> </span><span class="token operator" data-token-index="0">+</span><span class="" data-token-index="0"> </span><span class="token number" data-token-index="0">1</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0">
</span><span class="token comment" data-token-index="0">// 再接下来的两位数构成衣服，衣服变化就对6取模:</span><span class="" data-token-index="0">
    shirtChoice</span><span class="token operator" data-token-index="0">:</span><span class="" data-token-index="0"> dnaStr</span><span class="token punctuation" data-token-index="0">.</span><span class="token function" data-token-index="0">substring</span><span class="token punctuation" data-token-index="0">(</span><span class="token number" data-token-index="0">4</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0"> </span><span class="token number" data-token-index="0">6</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0"> </span><span class="token operator" data-token-index="0">%</span><span class="" data-token-index="0"> </span><span class="token number" data-token-index="0">6</span><span class="" data-token-index="0"> </span><span class="token operator" data-token-index="0">+</span><span class="" data-token-index="0"> </span><span class="token number" data-token-index="0">1</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0">
</span><span class="token comment" data-token-index="0">//最后6位控制颜色. 用css选择器: hue-rotate来更新</span><span class="" data-token-index="0">
</span><span class="token comment" data-token-index="0">// 360度:</span><span class="" data-token-index="0">
    skinColorChoice</span><span class="token operator" data-token-index="0">:</span><span class="" data-token-index="0"> </span><span class="token function" data-token-index="0">parseInt</span><span class="token punctuation" data-token-index="0">(</span><span class="" data-token-index="0">dnaStr</span><span class="token punctuation" data-token-index="0">.</span><span class="token function" data-token-index="0">substring</span><span class="token punctuation" data-token-index="0">(</span><span class="token number" data-token-index="0">6</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0"> </span><span class="token number" data-token-index="0">8</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0"> </span><span class="token operator" data-token-index="0">/</span><span class="" data-token-index="0"> </span><span class="token number" data-token-index="0">100</span><span class="" data-token-index="0"> </span><span class="token operator" data-token-index="0">*</span><span class="" data-token-index="0"> </span><span class="token number" data-token-index="0">360</span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0">
    eyeColorChoice</span><span class="token operator" data-token-index="0">:</span><span class="" data-token-index="0"> </span><span class="token function" data-token-index="0">parseInt</span><span class="token punctuation" data-token-index="0">(</span><span class="" data-token-index="0">dnaStr</span><span class="token punctuation" data-token-index="0">.</span><span class="token function" data-token-index="0">substring</span><span class="token punctuation" data-token-index="0">(</span><span class="token number" data-token-index="0">8</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0"> </span><span class="token number" data-token-index="0">10</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0"> </span><span class="token operator" data-token-index="0">/</span><span class="" data-token-index="0"> </span><span class="token number" data-token-index="0">100</span><span class="" data-token-index="0"> </span><span class="token operator" data-token-index="0">*</span><span class="" data-token-index="0"> </span><span class="token number" data-token-index="0">360</span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0">
    clothesColorChoice</span><span class="token operator" data-token-index="0">:</span><span class="" data-token-index="0"> </span><span class="token function" data-token-index="0">parseInt</span><span class="token punctuation" data-token-index="0">(</span><span class="" data-token-index="0">dnaStr</span><span class="token punctuation" data-token-index="0">.</span><span class="token function" data-token-index="0">substring</span><span class="token punctuation" data-token-index="0">(</span><span class="token number" data-token-index="0">10</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0"> </span><span class="token number" data-token-index="0">12</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0"> </span><span class="token operator" data-token-index="0">/</span><span class="" data-token-index="0"> </span><span class="token number" data-token-index="0">100</span><span class="" data-token-index="0"> </span><span class="token operator" data-token-index="0">*</span><span class="" data-token-index="0"> </span><span class="token number" data-token-index="0">360</span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0">
    zombieName</span><span class="token operator" data-token-index="0">:</span><span class="" data-token-index="0"> name</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0">
    zombieDescription</span><span class="token operator" data-token-index="0">:</span><span class="" data-token-index="0"> </span><span class="token string" data-token-index="0">"A Level 1 CryptoZombie"</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0">
</span><span class="token punctuation" data-token-index="0">}</span><span class="" data-token-index="0">
</span><span class="token keyword" data-token-index="0">return</span><span class="" data-token-index="0"> zombieDetails
</span><span class="token punctuation" data-token-index="0">}</span><span>
</span></div></div><div style="position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;"></div><div style="position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;"><div aria-disabled="true" class="notion-focusable" role="button" style="user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;" tabindex="-1">JavaScript<svg class="chevronDown" style="width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;" viewbox="0 0 30 30"><polygon points="15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 "></polygon></svg></div></div><div style="background: white; padding-right: 105px;"></div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="26c82448-ff02-433c-a567-a675b117f2fa" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; min-height: 1em; color: rgb(55, 53, 47); -webkit-text-fill-color: rgba(55, 53, 47, 0.4);"></div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="cc8eb30b-ec82-44a5-9cee-40b3ef4d7e28" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; min-height: 1em; color: rgb(55, 53, 47); -webkit-text-fill-color: rgba(55, 53, 47, 0.4);"></div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="580a20be-67fb-4dc0-ac90-1874d577a98f" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;">数据类型<span class="notion-enable-hover" data-token-index="1" style="font-weight:600">mapping</span>和<span class="notion-enable-hover" data-token-index="3" style="font-weight:600">address</span></div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="a41ad136-c8c5-4a57-884a-f126be7615fd" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; min-height: 1em; color: rgb(55, 53, 47); -webkit-text-fill-color: rgba(55, 53, 47, 0.4);"></div></div></div></div><div class="notion-selectable notion-code-block" data-block-id="b814cf89-3af7-48e0-8891-654be93e47b0" style="width: 100%; max-width: 1713px; margin-top: 4px; margin-bottom: 4px;"><div style="display: flex;"><div contenteditable="false" data-content-editable-void="true" style="flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;"><div class="line-numbers notion-code-block" style="display: flex; overflow-x: auto;"><div autocapitalize="off" autocorrect="off" contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="false" style='flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;'><span class="token comment" data-token-index="0">/*
在以太坊中，有俩种类型的账户，一种是外部账户(EOA), 一种是合约账户()
无论是那一种账户，都有一个对应的地址(Address)

映射类型，保存键值对
mapping (address =&gt; uint) public accountBalance;

*/</span><span>
</span></div></div><div style="position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;"></div><div style="position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;"><div aria-disabled="true" class="notion-focusable" role="button" style="user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;" tabindex="-1">JavaScript<svg class="chevronDown" style="width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;" viewbox="0 0 30 30"><polygon points="15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 "></polygon></svg></div></div><div style="background: white; padding-right: 105px;"></div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="78b8dfbf-7cfa-49c3-a616-d60a2efdd0a2" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; min-height: 1em; color: rgb(55, 53, 47); -webkit-text-fill-color: rgba(55, 53, 47, 0.4);"></div></div></div></div><div class="notion-selectable notion-code-block" data-block-id="ea266b0e-adc0-4b82-a1b7-fc7ec5407f61" style="width: 100%; max-width: 1713px; margin-top: 4px; margin-bottom: 4px;"><div style="display: flex;"><div contenteditable="false" data-content-editable-void="true" style="flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;"><div class="line-numbers notion-code-block" style="display: flex; overflow-x: auto;"><div autocapitalize="off" autocorrect="off" contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="false" style='flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;'><span class="" data-token-index="0">pragma solidity </span><span class="token operator" data-token-index="0">^</span><span class="token number" data-token-index="0">0.4</span><span class="token number" data-token-index="0">.19</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">

contract ZombieFactory </span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">

    event </span><span class="token function" data-token-index="0">NewZombie</span><span class="token punctuation" data-token-index="0">(</span><span class="" data-token-index="0">uint zombieId</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0"> string name</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0"> uint dna</span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">

    uint dnaDigits </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> </span><span class="token number" data-token-index="0">16</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
    uint dnaModulus </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> </span><span class="token number" data-token-index="0">10</span><span class="" data-token-index="0"> </span><span class="token operator" data-token-index="0">**</span><span class="" data-token-index="0"> dnaDigits</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">

    struct Zombie </span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">
        string name</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
        uint dna</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token punctuation" data-token-index="0">}</span><span class="" data-token-index="0">

    Zombie</span><span class="token punctuation" data-token-index="0">[</span><span class="token punctuation" data-token-index="0">]</span><span class="" data-token-index="0"> </span><span class="token keyword" data-token-index="0">public</span><span class="" data-token-index="0"> zombies</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token comment" data-token-index="0">// </span><span class="" data-token-index="0">
</span><span class="token function" data-token-index="0">mapping</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">(</span><span class="token parameter" data-token-index="0">uint</span><span class="" data-token-index="0"> </span><span class="token operator" data-token-index="0">=&gt;</span><span class="" data-token-index="0"> address</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0"> </span><span class="token keyword" data-token-index="0">public</span><span class="" data-token-index="0"> zombieToOwner</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token function" data-token-index="0">mapping</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">(</span><span class="token parameter" data-token-index="0">address</span><span class="" data-token-index="0"> </span><span class="token operator" data-token-index="0">=&gt;</span><span class="" data-token-index="0"> uint</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0"> ownerZombieCount</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token keyword" data-token-index="0">function</span><span class="" data-token-index="0"> </span><span class="token function" data-token-index="0">_createZombie</span><span class="token punctuation" data-token-index="0">(</span><span class="token parameter" data-token-index="0">string _name</span><span class="token punctuation" data-token-index="0">,</span><span class="token parameter" data-token-index="0"> uint _dna</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0"> </span><span class="token keyword" data-token-index="0">private</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">
        uint id </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> zombies</span><span class="token punctuation" data-token-index="0">.</span><span class="token function" data-token-index="0">push</span><span class="token punctuation" data-token-index="0">(</span><span class="token function" data-token-index="0">Zombie</span><span class="token punctuation" data-token-index="0">(</span><span class="" data-token-index="0">_name</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0"> _dna</span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0"> </span><span class="token operator" data-token-index="0">-</span><span class="" data-token-index="0"> </span><span class="token number" data-token-index="0">1</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token comment" data-token-index="0">// 从这里开始</span><span class="" data-token-index="0">
</span><span class="token function" data-token-index="0">NewZombie</span><span class="token punctuation" data-token-index="0">(</span><span class="" data-token-index="0">id</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0"> _name</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0"> _dna</span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token punctuation" data-token-index="0">}</span><span class="" data-token-index="0">
</span><span class="token keyword" data-token-index="0">function</span><span class="" data-token-index="0"> </span><span class="token function" data-token-index="0">_generateRandomDna</span><span class="token punctuation" data-token-index="0">(</span><span class="token parameter" data-token-index="0">string _str</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0"> </span><span class="token keyword" data-token-index="0">private</span><span class="" data-token-index="0"> view </span><span class="token function" data-token-index="0">returns</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">(</span><span class="token parameter" data-token-index="0">uint</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">
        uint rand </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> </span><span class="token function" data-token-index="0">uint</span><span class="token punctuation" data-token-index="0">(</span><span class="token function" data-token-index="0">keccak256</span><span class="token punctuation" data-token-index="0">(</span><span class="" data-token-index="0">_str</span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token keyword" data-token-index="0">return</span><span class="" data-token-index="0"> rand </span><span class="token operator" data-token-index="0">%</span><span class="" data-token-index="0"> dnaModulus</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token punctuation" data-token-index="0">}</span><span class="" data-token-index="0">
</span><span class="token keyword" data-token-index="0">function</span><span class="" data-token-index="0"> </span><span class="token function" data-token-index="0">createRandomZombie</span><span class="token punctuation" data-token-index="0">(</span><span class="token parameter" data-token-index="0">string _name</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0"> </span><span class="token keyword" data-token-index="0">public</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">
        uint randDna </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> </span><span class="token function" data-token-index="0">_generateRandomDna</span><span class="token punctuation" data-token-index="0">(</span><span class="" data-token-index="0">_name</span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token function" data-token-index="0">_createZombie</span><span class="token punctuation" data-token-index="0">(</span><span class="" data-token-index="0">_name</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0"> randDna</span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token punctuation" data-token-index="0">}</span><span class="" data-token-index="0">
</span><span class="token punctuation" data-token-index="0">}</span><span>
</span></div></div><div style="position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;"></div><div style="position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;"><div aria-disabled="true" class="notion-focusable" role="button" style="user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;" tabindex="-1">JavaScript<svg class="chevronDown" style="width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;" viewbox="0 0 30 30"><polygon points="15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 "></polygon></svg></div></div><div style="background: white; padding-right: 105px;"></div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="9c3abbe4-dafa-472b-b51b-3c513b86e478" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; min-height: 1em; color: rgb(55, 53, 47); -webkit-text-fill-color: rgba(55, 53, 47, 0.4);"></div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="51841d50-74a5-4461-8f1c-4a7380744495" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; min-height: 1em; color: rgb(55, 53, 47); -webkit-text-fill-color: rgba(55, 53, 47, 0.4);"></div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="a241db27-f36e-475b-a41a-97c5df347f70" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;">全局变量<span class="notion-enable-hover" data-token-index="1" style="font-weight:600">msg.sender</span></div></div></div></div><div class="notion-selectable notion-code-block" data-block-id="29c7f70a-ccd2-40fb-bf53-0f96365a0b0b" style="width: 100%; max-width: 1713px; margin-top: 4px; margin-bottom: 4px;"><div style="display: flex;"><div contenteditable="false" data-content-editable-void="true" style="flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;"><div class="line-numbers notion-code-block" style="display: flex; overflow-x: auto;"><div autocapitalize="off" autocorrect="off" contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="false" style='flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;'><span class="token comment" data-token-index="0">/*
msg.sender 指当前调用者(或者智能合约)的address, 合约本身不会自动执行，而是从外部手动触发, 
因此，这个变量始终存在


*/</span><span>
</span></div></div><div style="position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;"></div><div style="position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;"><div aria-disabled="true" class="notion-focusable" role="button" style="user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;" tabindex="-1">JavaScript<svg class="chevronDown" style="width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;" viewbox="0 0 30 30"><polygon points="15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 "></polygon></svg></div></div><div style="background: white; padding-right: 105px;"></div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="f61e624c-555c-4398-9aaf-70a7d549bf2e" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; min-height: 1em; color: rgb(55, 53, 47); -webkit-text-fill-color: rgba(55, 53, 47, 0.4);"></div></div></div></div><div class="notion-selectable notion-code-block" data-block-id="1b5cdc53-13e8-4ea4-9b46-0f53dcf8d7e2" style="width: 100%; max-width: 1713px; margin-top: 4px; margin-bottom: 4px;"><div style="display: flex;"><div contenteditable="false" data-content-editable-void="true" style="flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;"><div class="line-numbers notion-code-block" style="display: flex; overflow-x: auto;"><div autocapitalize="off" autocorrect="off" contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="false" style='flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;'><span class="" data-token-index="0">pragma solidity </span><span class="token operator" data-token-index="0">^</span><span class="token number" data-token-index="0">0.4</span><span class="token number" data-token-index="0">.19</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">

contract ZombieFactory </span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">

    event </span><span class="token function" data-token-index="0">NewZombie</span><span class="token punctuation" data-token-index="0">(</span><span class="" data-token-index="0">uint zombieId</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0"> string name</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0"> uint dna</span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">

    uint dnaDigits </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> </span><span class="token number" data-token-index="0">16</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
    uint dnaModulus </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> </span><span class="token number" data-token-index="0">10</span><span class="" data-token-index="0"> </span><span class="token operator" data-token-index="0">**</span><span class="" data-token-index="0"> dnaDigits</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">

    struct Zombie </span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">
        string name</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
        uint dna</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token punctuation" data-token-index="0">}</span><span class="" data-token-index="0">

    Zombie</span><span class="token punctuation" data-token-index="0">[</span><span class="token punctuation" data-token-index="0">]</span><span class="" data-token-index="0"> </span><span class="token keyword" data-token-index="0">public</span><span class="" data-token-index="0"> zombies</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token function" data-token-index="0">mapping</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">(</span><span class="token parameter" data-token-index="0">uint</span><span class="" data-token-index="0"> </span><span class="token operator" data-token-index="0">=&gt;</span><span class="" data-token-index="0"> address</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0"> </span><span class="token keyword" data-token-index="0">public</span><span class="" data-token-index="0"> zombieToOwner</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token function" data-token-index="0">mapping</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">(</span><span class="token parameter" data-token-index="0">address</span><span class="" data-token-index="0"> </span><span class="token operator" data-token-index="0">=&gt;</span><span class="" data-token-index="0"> uint</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0"> ownerZombieCount</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token keyword" data-token-index="0">function</span><span class="" data-token-index="0"> </span><span class="token function" data-token-index="0">_createZombie</span><span class="token punctuation" data-token-index="0">(</span><span class="token parameter" data-token-index="0">string _name</span><span class="token punctuation" data-token-index="0">,</span><span class="token parameter" data-token-index="0"> uint _dna</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0"> </span><span class="token keyword" data-token-index="0">private</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">
        uint id </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> zombies</span><span class="token punctuation" data-token-index="0">.</span><span class="token function" data-token-index="0">push</span><span class="token punctuation" data-token-index="0">(</span><span class="token function" data-token-index="0">Zombie</span><span class="token punctuation" data-token-index="0">(</span><span class="" data-token-index="0">_name</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0"> _dna</span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0"> </span><span class="token operator" data-token-index="0">-</span><span class="" data-token-index="0"> </span><span class="token number" data-token-index="0">1</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token comment" data-token-index="0">// 将id和地址关联，并对地址自增1</span><span class="" data-token-index="0">
        zombieToOwner</span><span class="token punctuation" data-token-index="0">[</span><span class="" data-token-index="0">id</span><span class="token punctuation" data-token-index="0">]</span><span class="" data-token-index="0"> </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> msg</span><span class="token punctuation" data-token-index="0">.</span><span class="" data-token-index="0">sender</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
        ownerZombieCount</span><span class="token punctuation" data-token-index="0">[</span><span class="" data-token-index="0">msg</span><span class="token punctuation" data-token-index="0">.</span><span class="" data-token-index="0">sender</span><span class="token punctuation" data-token-index="0">]</span><span class="token operator" data-token-index="0">++</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token function" data-token-index="0">NewZombie</span><span class="token punctuation" data-token-index="0">(</span><span class="" data-token-index="0">id</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0"> _name</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0"> _dna</span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token punctuation" data-token-index="0">}</span><span class="" data-token-index="0">
</span><span class="token keyword" data-token-index="0">function</span><span class="" data-token-index="0"> </span><span class="token function" data-token-index="0">_generateRandomDna</span><span class="token punctuation" data-token-index="0">(</span><span class="token parameter" data-token-index="0">string _str</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0"> </span><span class="token keyword" data-token-index="0">private</span><span class="" data-token-index="0"> view </span><span class="token function" data-token-index="0">returns</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">(</span><span class="token parameter" data-token-index="0">uint</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">
        uint rand </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> </span><span class="token function" data-token-index="0">uint</span><span class="token punctuation" data-token-index="0">(</span><span class="token function" data-token-index="0">keccak256</span><span class="token punctuation" data-token-index="0">(</span><span class="" data-token-index="0">_str</span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token keyword" data-token-index="0">return</span><span class="" data-token-index="0"> rand </span><span class="token operator" data-token-index="0">%</span><span class="" data-token-index="0"> dnaModulus</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token punctuation" data-token-index="0">}</span><span class="" data-token-index="0">
</span><span class="token keyword" data-token-index="0">function</span><span class="" data-token-index="0"> </span><span class="token function" data-token-index="0">createRandomZombie</span><span class="token punctuation" data-token-index="0">(</span><span class="token parameter" data-token-index="0">string _name</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0"> </span><span class="token keyword" data-token-index="0">public</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">
</span><span class="token comment" data-token-index="0">// start here</span><span class="" data-token-index="0">
        uint randDna </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> </span><span class="token function" data-token-index="0">_generateRandomDna</span><span class="token punctuation" data-token-index="0">(</span><span class="" data-token-index="0">_name</span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token function" data-token-index="0">_createZombie</span><span class="token punctuation" data-token-index="0">(</span><span class="" data-token-index="0">_name</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0"> randDna</span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token punctuation" data-token-index="0">}</span><span class="" data-token-index="0">
</span><span class="token punctuation" data-token-index="0">}</span><span>
</span></div></div><div style="position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;"></div><div style="position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;"><div aria-disabled="true" class="notion-focusable" role="button" style="user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;" tabindex="-1">JavaScript<svg class="chevronDown" style="width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;" viewbox="0 0 30 30"><polygon points="15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 "></polygon></svg></div></div><div style="background: white; padding-right: 105px;"></div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="920b2919-2bfb-488c-a16e-fdb82a6c2818" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; min-height: 1em; color: rgb(55, 53, 47); -webkit-text-fill-color: rgba(55, 53, 47, 0.4);"></div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="dce4a258-9f03-4288-a947-56d17fdf22b1" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; min-height: 1em; color: rgb(55, 53, 47); -webkit-text-fill-color: rgba(55, 53, 47, 0.4);"></div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="35fc9bac-11eb-4b76-9fd6-8e8de955b358" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;">条件判断<span class="notion-enable-hover" data-token-index="1" style="font-weight:600">require</span></div></div></div></div><div class="notion-selectable notion-code-block" data-block-id="2b2e4a0e-84eb-43a1-a80c-60e033965d4a" style="width: 100%; max-width: 1713px; margin-top: 4px; margin-bottom: 4px;"><div style="display: flex;"><div contenteditable="false" data-content-editable-void="true" style="flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;"><div class="line-numbers notion-code-block" style="display: flex; overflow-x: auto;"><div autocapitalize="off" autocorrect="off" contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="false" style='flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;'><span class="token comment" data-token-index="0">/*
require 当不满足某些条件的时候抛出错误，并停止执行

require(_aliasename == _name);
*/</span><span>
</span></div></div><div style="position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;"></div><div style="position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;"><div aria-disabled="true" class="notion-focusable" role="button" style="user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;" tabindex="-1">JavaScript<svg class="chevronDown" style="width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;" viewbox="0 0 30 30"><polygon points="15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 "></polygon></svg></div></div><div style="background: white; padding-right: 105px;"></div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="c1cc08bf-ac0a-47b8-a03f-46bbba792fc2" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; min-height: 1em; color: rgb(55, 53, 47); -webkit-text-fill-color: rgba(55, 53, 47, 0.4);"></div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="03e34729-da09-4bd6-907c-2f9cf0b5fd93" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; min-height: 1em; color: rgb(55, 53, 47); -webkit-text-fill-color: rgba(55, 53, 47, 0.4);"></div></div></div></div><div class="notion-selectable notion-code-block" data-block-id="1b04d6eb-60c5-4fec-8fb8-b4636b23f4c1" style="width: 100%; max-width: 1713px; margin-top: 4px; margin-bottom: 4px;"><div style="display: flex;"><div contenteditable="false" data-content-editable-void="true" style="flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;"><div class="line-numbers notion-code-block" style="display: flex; overflow-x: auto;"><div autocapitalize="off" autocorrect="off" contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="false" style='flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;'><span class="" data-token-index="0">pragma solidity </span><span class="token operator" data-token-index="0">^</span><span class="token number" data-token-index="0">0.4</span><span class="token number" data-token-index="0">.19</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">

contract ZombieFactory </span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">

    event </span><span class="token function" data-token-index="0">NewZombie</span><span class="token punctuation" data-token-index="0">(</span><span class="" data-token-index="0">uint zombieId</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0"> string name</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0"> uint dna</span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">

    uint dnaDigits </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> </span><span class="token number" data-token-index="0">16</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
    uint dnaModulus </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> </span><span class="token number" data-token-index="0">10</span><span class="" data-token-index="0"> </span><span class="token operator" data-token-index="0">**</span><span class="" data-token-index="0"> dnaDigits</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">

    struct Zombie </span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">
        string name</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
        uint dna</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token punctuation" data-token-index="0">}</span><span class="" data-token-index="0">

    Zombie</span><span class="token punctuation" data-token-index="0">[</span><span class="token punctuation" data-token-index="0">]</span><span class="" data-token-index="0"> </span><span class="token keyword" data-token-index="0">public</span><span class="" data-token-index="0"> zombies</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token function" data-token-index="0">mapping</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">(</span><span class="token parameter" data-token-index="0">uint</span><span class="" data-token-index="0"> </span><span class="token operator" data-token-index="0">=&gt;</span><span class="" data-token-index="0"> address</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0"> </span><span class="token keyword" data-token-index="0">public</span><span class="" data-token-index="0"> zombieToOwner</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token function" data-token-index="0">mapping</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">(</span><span class="token parameter" data-token-index="0">address</span><span class="" data-token-index="0"> </span><span class="token operator" data-token-index="0">=&gt;</span><span class="" data-token-index="0"> uint</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0"> ownerZombieCount</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token keyword" data-token-index="0">function</span><span class="" data-token-index="0"> </span><span class="token function" data-token-index="0">_createZombie</span><span class="token punctuation" data-token-index="0">(</span><span class="token parameter" data-token-index="0">string _name</span><span class="token punctuation" data-token-index="0">,</span><span class="token parameter" data-token-index="0"> uint _dna</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0"> </span><span class="token keyword" data-token-index="0">private</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">
        uint id </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> zombies</span><span class="token punctuation" data-token-index="0">.</span><span class="token function" data-token-index="0">push</span><span class="token punctuation" data-token-index="0">(</span><span class="token function" data-token-index="0">Zombie</span><span class="token punctuation" data-token-index="0">(</span><span class="" data-token-index="0">_name</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0"> _dna</span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0"> </span><span class="token operator" data-token-index="0">-</span><span class="" data-token-index="0"> </span><span class="token number" data-token-index="0">1</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
        zombieToOwner</span><span class="token punctuation" data-token-index="0">[</span><span class="" data-token-index="0">id</span><span class="token punctuation" data-token-index="0">]</span><span class="" data-token-index="0"> </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> msg</span><span class="token punctuation" data-token-index="0">.</span><span class="" data-token-index="0">sender</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
        ownerZombieCount</span><span class="token punctuation" data-token-index="0">[</span><span class="" data-token-index="0">msg</span><span class="token punctuation" data-token-index="0">.</span><span class="" data-token-index="0">sender</span><span class="token punctuation" data-token-index="0">]</span><span class="token operator" data-token-index="0">++</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token function" data-token-index="0">NewZombie</span><span class="token punctuation" data-token-index="0">(</span><span class="" data-token-index="0">id</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0"> _name</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0"> _dna</span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token punctuation" data-token-index="0">}</span><span class="" data-token-index="0">
</span><span class="token keyword" data-token-index="0">function</span><span class="" data-token-index="0"> </span><span class="token function" data-token-index="0">_generateRandomDna</span><span class="token punctuation" data-token-index="0">(</span><span class="token parameter" data-token-index="0">string _str</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0"> </span><span class="token keyword" data-token-index="0">private</span><span class="" data-token-index="0"> view </span><span class="token function" data-token-index="0">returns</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">(</span><span class="token parameter" data-token-index="0">uint</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">
        uint rand </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> </span><span class="token function" data-token-index="0">uint</span><span class="token punctuation" data-token-index="0">(</span><span class="token function" data-token-index="0">keccak256</span><span class="token punctuation" data-token-index="0">(</span><span class="" data-token-index="0">_str</span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token keyword" data-token-index="0">return</span><span class="" data-token-index="0"> rand </span><span class="token operator" data-token-index="0">%</span><span class="" data-token-index="0"> dnaModulus</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token punctuation" data-token-index="0">}</span><span class="" data-token-index="0">
</span><span class="token keyword" data-token-index="0">function</span><span class="" data-token-index="0"> </span><span class="token function" data-token-index="0">createRandomZombie</span><span class="token punctuation" data-token-index="0">(</span><span class="token parameter" data-token-index="0">string _name</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0"> </span><span class="token keyword" data-token-index="0">public</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">
</span><span class="token comment" data-token-index="0">// 判断条件</span><span class="" data-token-index="0">
</span><span class="token function" data-token-index="0">require</span><span class="token punctuation" data-token-index="0">(</span><span class="" data-token-index="0">ownerZombieCount</span><span class="token punctuation" data-token-index="0">[</span><span class="" data-token-index="0">msg</span><span class="token punctuation" data-token-index="0">.</span><span class="" data-token-index="0">sender</span><span class="token punctuation" data-token-index="0">]</span><span class="" data-token-index="0"> </span><span class="token operator" data-token-index="0">==</span><span class="" data-token-index="0"> </span><span class="token number" data-token-index="0">0</span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
        uint randDna </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> </span><span class="token function" data-token-index="0">_generateRandomDna</span><span class="token punctuation" data-token-index="0">(</span><span class="" data-token-index="0">_name</span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token function" data-token-index="0">_createZombie</span><span class="token punctuation" data-token-index="0">(</span><span class="" data-token-index="0">_name</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0"> randDna</span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token punctuation" data-token-index="0">}</span><span class="" data-token-index="0">
</span><span class="token punctuation" data-token-index="0">}</span><span>
</span></div></div><div style="position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;"></div><div style="position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;"><div aria-disabled="true" class="notion-focusable" role="button" style="user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;" tabindex="-1">JavaScript<svg class="chevronDown" style="width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;" viewbox="0 0 30 30"><polygon points="15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 "></polygon></svg></div></div><div style="background: white; padding-right: 105px;"></div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="2f27874e-6534-4f26-a121-9e1d4b6ede5c" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; min-height: 1em; color: rgb(55, 53, 47); -webkit-text-fill-color: rgba(55, 53, 47, 0.4);"></div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="ff6c3ae9-584b-446c-aaca-e1841811d28f" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; min-height: 1em; color: rgb(55, 53, 47); -webkit-text-fill-color: rgba(55, 53, 47, 0.4);"></div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="56f9c32f-c3d7-493d-8078-f322ec050ca3" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;">继承</div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="1a8db2fa-cf43-456b-9d9d-b6bc107c70e3" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; min-height: 1em; color: rgb(55, 53, 47); -webkit-text-fill-color: rgba(55, 53, 47, 0.4);"></div></div></div></div><div class="notion-selectable notion-code-block" data-block-id="a2fba5b3-2659-447d-99e8-097d1540df40" style="width: 100%; max-width: 1713px; margin-top: 4px; margin-bottom: 4px;"><div style="display: flex;"><div contenteditable="false" data-content-editable-void="true" style="flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;"><div class="line-numbers notion-code-block" style="display: flex; overflow-x: auto;"><div autocapitalize="off" autocorrect="off" contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="false" style='flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;'><span class="token comment" data-token-index="0">/*
使用继承，可以将代码逻辑分开
*/</span><span class="" data-token-index="0">

contract Doge </span><span class="token punctuation" data-token-index="0">{</span><span class="token punctuation" data-token-index="0">}</span><span class="" data-token-index="0">
</span><span class="token comment" data-token-index="0">// BabyDoge继承自Doge, 也就可以访问Doge中定义的public函数</span><span class="" data-token-index="0">
contract BabyDoge is Doge </span><span class="token punctuation" data-token-index="0">{</span><span class="token punctuation" data-token-index="0">}</span><span>
</span></div></div><div style="position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;"></div><div style="position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;"><div aria-disabled="true" class="notion-focusable" role="button" style="user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;" tabindex="-1">JavaScript<svg class="chevronDown" style="width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;" viewbox="0 0 30 30"><polygon points="15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 "></polygon></svg></div></div><div style="background: white; padding-right: 105px;"></div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="33ef8655-0d5c-46f7-aafd-8853380d304b" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; min-height: 1em; color: rgb(55, 53, 47); -webkit-text-fill-color: rgba(55, 53, 47, 0.4);"></div></div></div></div><div class="notion-selectable notion-code-block" data-block-id="ef29d560-e2aa-41ff-9a4f-1f9a52d0ee9c" style="width: 100%; max-width: 1713px; margin-top: 4px; margin-bottom: 4px;"><div style="display: flex;"><div contenteditable="false" data-content-editable-void="true" style="flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;"><div class="line-numbers notion-code-block" style="display: flex; overflow-x: auto;"><div autocapitalize="off" autocorrect="off" contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="false" style='flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;'><span class="" data-token-index="0">pragma solidity </span><span class="token operator" data-token-index="0">^</span><span class="token number" data-token-index="0">0.4</span><span class="token number" data-token-index="0">.19</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token comment" data-token-index="0">// put import statement here</span><span class="" data-token-index="0">

contract ZombieFeeding is ZombieFactory </span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">
</span><span class="token punctuation" data-token-index="0">}</span><span>
</span></div></div><div style="position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;"></div><div style="position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;"><div aria-disabled="true" class="notion-focusable" role="button" style="user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;" tabindex="-1">JavaScript<svg class="chevronDown" style="width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;" viewbox="0 0 30 30"><polygon points="15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 "></polygon></svg></div></div><div style="background: white; padding-right: 105px;"></div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="9f5eabfc-d3c4-494b-bdec-0a36b45065f6" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; min-height: 1em; color: rgb(55, 53, 47); -webkit-text-fill-color: rgba(55, 53, 47, 0.4);"></div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="6b2ca6a4-dfee-4ce0-bac9-39534264d6d8" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; min-height: 1em; color: rgb(55, 53, 47); -webkit-text-fill-color: rgba(55, 53, 47, 0.4);"></div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="74cead5c-48b4-4b0c-ba71-c6ea65fd71e7" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;">引入<span class="notion-enable-hover" data-token-index="1" style="font-weight:600">import</span></div></div></div></div><div class="notion-selectable notion-code-block" data-block-id="5f469ea4-87e4-40e1-b93b-6a4bea5e2a8e" style="width: 100%; max-width: 1713px; margin-top: 4px; margin-bottom: 4px;"><div style="display: flex;"><div contenteditable="false" data-content-editable-void="true" style="flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;"><div class="line-numbers notion-code-block" style="display: flex; overflow-x: auto;"><div autocapitalize="off" autocorrect="off" contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="false" style='flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;'><span class="token comment" data-token-index="0">/*
和python, golang等编程语言类似，通过import，可以将多个文件中的代码导入
*/</span><span class="" data-token-index="0">
</span><span class="token keyword" data-token-index="0">import</span><span class="" data-token-index="0"> </span><span class="token string" data-token-index="0">"./a.sol"</span><span class="token punctuation" data-token-index="0">;</span><span>
</span></div></div><div style="position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;"></div><div style="position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;"><div aria-disabled="true" class="notion-focusable" role="button" style="user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;" tabindex="-1">JavaScript<svg class="chevronDown" style="width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;" viewbox="0 0 30 30"><polygon points="15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 "></polygon></svg></div></div><div style="background: white; padding-right: 105px;"></div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="1cc041e1-0041-4228-9944-0cfe88654b4d" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; min-height: 1em; color: rgb(55, 53, 47); -webkit-text-fill-color: rgba(55, 53, 47, 0.4);"></div></div></div></div><div class="notion-selectable notion-code-block" data-block-id="132fd055-1781-47a3-b3df-652fac1a8b06" style="width: 100%; max-width: 1713px; margin-top: 4px; margin-bottom: 4px;"><div style="display: flex;"><div contenteditable="false" data-content-editable-void="true" style="flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;"><div class="line-numbers notion-code-block" style="display: flex; overflow-x: auto;"><div autocapitalize="off" autocorrect="off" contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="false" style='flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;'><span class="" data-token-index="0">pragma solidity </span><span class="token operator" data-token-index="0">^</span><span class="token number" data-token-index="0">0.4</span><span class="token number" data-token-index="0">.19</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token keyword" data-token-index="0">import</span><span class="" data-token-index="0"> </span><span class="token string" data-token-index="0">"./zombiefactory.sol"</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">

contract ZombieFeeding is ZombieFactory </span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">
</span><span class="token punctuation" data-token-index="0">}</span><span>
</span></div></div><div style="position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;"></div><div style="position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;"><div aria-disabled="true" class="notion-focusable" role="button" style="user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;" tabindex="-1">JavaScript<svg class="chevronDown" style="width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;" viewbox="0 0 30 30"><polygon points="15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 "></polygon></svg></div></div><div style="background: white; padding-right: 105px;"></div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="44321971-9110-4442-936d-d269a0d731b0" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; min-height: 1em; color: rgb(55, 53, 47); -webkit-text-fill-color: rgba(55, 53, 47, 0.4);"></div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="d3de24ae-6a81-4356-8094-80217f5f1a5d" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;">变量的存储<span class="notion-enable-hover" data-token-index="1" style="font-weight:600">storage</span>和<span class="notion-enable-hover" data-token-index="3" style="font-weight:600">memory</span></div></div></div></div><div class="notion-selectable notion-code-block" data-block-id="fb07bbc5-455c-4e4d-8297-a90a1edc7c51" style="width: 100%; max-width: 1713px; margin-top: 4px; margin-bottom: 4px;"><div style="display: flex;"><div contenteditable="false" data-content-editable-void="true" style="flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;"><div class="line-numbers notion-code-block" style="display: flex; overflow-x: auto;"><div autocapitalize="off" autocorrect="off" contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="false" style='flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;'><span class="token comment" data-token-index="0">/*
storage 是永久存储在区块链中的变量
memory 是临时的，合约调用完成后，即被移除

在函数之外声明的变量，默认为storage
可以在函数内部手动声明存储类型为storage
*/</span><span class="" data-token-index="0">

contract SandwichFactory </span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">
  struct Sandwich </span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">
    string name</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
    string status</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token punctuation" data-token-index="0">}</span><span class="" data-token-index="0">

  Sandwich</span><span class="token punctuation" data-token-index="0">[</span><span class="token punctuation" data-token-index="0">]</span><span class="" data-token-index="0"> sandwiches</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token keyword" data-token-index="0">function</span><span class="" data-token-index="0"> </span><span class="token function" data-token-index="0">eatSandwich</span><span class="token punctuation" data-token-index="0">(</span><span class="token parameter" data-token-index="0">uint _index</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0"> </span><span class="token keyword" data-token-index="0">public</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">
</span><span class="token comment" data-token-index="0">// Sandwich mySandwich = sandwiches[_index];</span><span class="" data-token-index="0">
</span><span class="token comment" data-token-index="0">// ^ 看上去很直接，不过 Solidity 将会给出警告</span><span class="" data-token-index="0">
</span><span class="token comment" data-token-index="0">// 告诉你应该明确在这里定义 `storage` 或者 `memory`。</span><span class="" data-token-index="0">
</span><span class="token comment" data-token-index="0">// 所以你应该明确定义 `storage`:</span><span class="" data-token-index="0">
    Sandwich storage mySandwich </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> sandwiches</span><span class="token punctuation" data-token-index="0">[</span><span class="" data-token-index="0">_index</span><span class="token punctuation" data-token-index="0">]</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token comment" data-token-index="0">// ...这样 `mySandwich` 是指向 `sandwiches[_index]`的指针</span><span class="" data-token-index="0">
</span><span class="token comment" data-token-index="0">// 在存储里，另外...</span><span class="" data-token-index="0">
    mySandwich</span><span class="token punctuation" data-token-index="0">.</span><span class="" data-token-index="0">status </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> </span><span class="token string" data-token-index="0">"Eaten!"</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token comment" data-token-index="0">// ...这将永久把 `sandwiches[_index]` 变为区块链上的存储</span><span class="" data-token-index="0">
</span><span class="token comment" data-token-index="0">// 如果你只想要一个副本，可以使用`memory`:</span><span class="" data-token-index="0">
    Sandwich memory anotherSandwich </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> sandwiches</span><span class="token punctuation" data-token-index="0">[</span><span class="" data-token-index="0">_index </span><span class="token operator" data-token-index="0">+</span><span class="" data-token-index="0"> </span><span class="token number" data-token-index="0">1</span><span class="token punctuation" data-token-index="0">]</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token comment" data-token-index="0">// ...这样 `anotherSandwich` 就仅仅是一个内存里的副本了</span><span class="" data-token-index="0">
</span><span class="token comment" data-token-index="0">// 另外</span><span class="" data-token-index="0">
    anotherSandwich</span><span class="token punctuation" data-token-index="0">.</span><span class="" data-token-index="0">status </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> </span><span class="token string" data-token-index="0">"Eaten!"</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token comment" data-token-index="0">// ...将仅仅修改临时变量，对 `sandwiches[_index + 1]` 没有任何影响</span><span class="" data-token-index="0">
</span><span class="token comment" data-token-index="0">// 不过你可以这样做:</span><span class="" data-token-index="0">
    sandwiches</span><span class="token punctuation" data-token-index="0">[</span><span class="" data-token-index="0">_index </span><span class="token operator" data-token-index="0">+</span><span class="" data-token-index="0"> </span><span class="token number" data-token-index="0">1</span><span class="token punctuation" data-token-index="0">]</span><span class="" data-token-index="0"> </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> anotherSandwich</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token comment" data-token-index="0">// ...如果你想把副本的改动保存回区块链存储</span><span class="" data-token-index="0">
</span><span class="token punctuation" data-token-index="0">}</span><span class="" data-token-index="0">
</span><span class="token punctuation" data-token-index="0">}</span><span>
</span></div></div><div style="position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;"></div><div style="position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;"><div aria-disabled="true" class="notion-focusable" role="button" style="user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;" tabindex="-1">JavaScript<svg class="chevronDown" style="width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;" viewbox="0 0 30 30"><polygon points="15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 "></polygon></svg></div></div><div style="background: white; padding-right: 105px;"></div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="171b2f79-be53-4b5c-b16b-3c32630a4210" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; min-height: 1em; color: rgb(55, 53, 47); -webkit-text-fill-color: rgba(55, 53, 47, 0.4);"></div></div></div></div><div class="notion-selectable notion-code-block" data-block-id="f7e917e0-fbaf-42d4-8b99-65dce7b2f79e" style="width: 100%; max-width: 1713px; margin-top: 4px; margin-bottom: 4px;"><div style="display: flex;"><div contenteditable="false" data-content-editable-void="true" style="flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;"><div class="line-numbers notion-code-block" style="display: flex; overflow-x: auto;"><div autocapitalize="off" autocorrect="off" contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="false" style='flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;'><span class="" data-token-index="0">pragma solidity </span><span class="token operator" data-token-index="0">^</span><span class="token number" data-token-index="0">0.4</span><span class="token number" data-token-index="0">.19</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token keyword" data-token-index="0">import</span><span class="" data-token-index="0"> </span><span class="token string" data-token-index="0">"./zombiefactory.sol"</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">

contract ZombieFeeding is ZombieFactory </span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">
</span><span class="token keyword" data-token-index="0">function</span><span class="" data-token-index="0"> </span><span class="token function" data-token-index="0">feedAndMultiply</span><span class="token punctuation" data-token-index="0">(</span><span class="token parameter" data-token-index="0">uint _zombieId</span><span class="token punctuation" data-token-index="0">,</span><span class="token parameter" data-token-index="0"> uint _targetDna</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0"> </span><span class="token keyword" data-token-index="0">public</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">
</span><span class="token function" data-token-index="0">require</span><span class="token punctuation" data-token-index="0">(</span><span class="" data-token-index="0">msg</span><span class="token punctuation" data-token-index="0">.</span><span class="" data-token-index="0">sender </span><span class="token operator" data-token-index="0">==</span><span class="" data-token-index="0"> zombieToOwner</span><span class="token punctuation" data-token-index="0">[</span><span class="" data-token-index="0">_zombieId</span><span class="token punctuation" data-token-index="0">]</span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
    Zombie storage myZombie </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> zombies</span><span class="token punctuation" data-token-index="0">[</span><span class="" data-token-index="0">_zombieId</span><span class="token punctuation" data-token-index="0">]</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token comment" data-token-index="0">// </span><span class="" data-token-index="0">
    _targetDna </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> _targetDna </span><span class="token operator" data-token-index="0">%</span><span class="" data-token-index="0"> dnaModulus</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
    uint newDna </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">(</span><span class="" data-token-index="0">myZombie</span><span class="token punctuation" data-token-index="0">.</span><span class="" data-token-index="0">dna </span><span class="token operator" data-token-index="0">+</span><span class="" data-token-index="0"> _targetDna</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0"> </span><span class="token operator" data-token-index="0">/</span><span class="" data-token-index="0"> </span><span class="token number" data-token-index="0">2</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token comment" data-token-index="0">// 创建一个新的僵尸</span><span class="" data-token-index="0">
</span><span class="token comment" data-token-index="0">// 函数可见性问题</span><span class="" data-token-index="0">
</span><span class="token function" data-token-index="0">_createZombie</span><span class="token punctuation" data-token-index="0">(</span><span class="token string" data-token-index="0">"NoName"</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0"> newDna</span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token punctuation" data-token-index="0">}</span><span class="" data-token-index="0">
</span><span class="token punctuation" data-token-index="0">}</span><span>
</span></div></div><div style="position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;"></div><div style="position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;"><div aria-disabled="true" class="notion-focusable" role="button" style="user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;" tabindex="-1">JavaScript<svg class="chevronDown" style="width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;" viewbox="0 0 30 30"><polygon points="15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 "></polygon></svg></div></div><div style="background: white; padding-right: 105px;"></div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="0e7eb490-5859-4c16-81b1-59caf77df49c" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; min-height: 1em; color: rgb(55, 53, 47); -webkit-text-fill-color: rgba(55, 53, 47, 0.4);"></div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="88891391-42ed-42ae-a089-f6a00dd4ed2b" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;">函数可见性<span class="notion-enable-hover" data-token-index="1" style="font-weight:600">internal</span>和<span class="notion-enable-hover" data-token-index="3" style="font-weight:600">external</span></div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="cee8ceeb-005d-4a5d-a77b-d086e7688c4e" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; min-height: 1em; color: rgb(55, 53, 47); -webkit-text-fill-color: rgba(55, 53, 47, 0.4);"></div></div></div></div><div class="notion-selectable notion-code-block" data-block-id="e9872a70-43bb-41bd-8c4d-0eaf513c5a25" style="width: 100%; max-width: 1713px; margin-top: 4px; margin-bottom: 4px;"><div style="display: flex;"><div contenteditable="false" data-content-editable-void="true" style="flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;"><div class="line-numbers notion-code-block" style="display: flex; overflow-x: auto;"><div autocapitalize="off" autocorrect="off" contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="false" style='flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;'><span class="token comment" data-token-index="0">/*
internal 如果某个合约继承自当前合约，则那个合约可以访问当前合约的internal函数

external 

*/</span><span>
</span></div></div><div style="position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;"></div><div style="position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;"><div aria-disabled="true" class="notion-focusable" role="button" style="user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;" tabindex="-1">JavaScript<svg class="chevronDown" style="width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;" viewbox="0 0 30 30"><polygon points="15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 "></polygon></svg></div></div><div style="background: white; padding-right: 105px;"></div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="c3778c27-0871-4400-9119-93f3935bb35b" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; min-height: 1em; color: rgb(55, 53, 47); -webkit-text-fill-color: rgba(55, 53, 47, 0.4);"></div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="bff9f4a9-99b5-4d63-a765-df06b4ab26c0" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; min-height: 1em; color: rgb(55, 53, 47); -webkit-text-fill-color: rgba(55, 53, 47, 0.4);"></div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="6b056d42-1d6a-4990-8b21-bb91f3847a78" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;">与其它合约的交互</div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="c59059c2-b9b6-4caa-bc8d-b6bf14e95b46" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; min-height: 1em; color: rgb(55, 53, 47); -webkit-text-fill-color: rgba(55, 53, 47, 0.4);"></div></div></div></div><div class="notion-selectable notion-code-block" data-block-id="e3d84e25-c895-4d33-a074-0c98a0de57e3" style="width: 100%; max-width: 1713px; margin-top: 4px; margin-bottom: 4px;"><div style="display: flex;"><div contenteditable="false" data-content-editable-void="true" style="flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;"><div class="line-numbers notion-code-block" style="display: flex; overflow-x: auto;"><div autocapitalize="off" autocorrect="off" contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="false" style='flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;'><span class="token comment" data-token-index="0">/*
通过定义一个接口，实现调用其它合约的函数
*/</span><span>
</span></div></div><div style="position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;"></div><div style="position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;"><div aria-disabled="true" class="notion-focusable" role="button" style="user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;" tabindex="-1">JavaScript<svg class="chevronDown" style="width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;" viewbox="0 0 30 30"><polygon points="15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 "></polygon></svg></div></div><div style="background: white; padding-right: 105px;"></div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="046f3da5-ca0d-47d8-8b9d-db72bbfd5782" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; min-height: 1em; color: rgb(55, 53, 47); -webkit-text-fill-color: rgba(55, 53, 47, 0.4);"></div></div></div></div><div class="notion-selectable notion-code-block" data-block-id="7a7e0142-2562-493d-b1c8-97e651efc7c2" style="width: 100%; max-width: 1713px; margin-top: 4px; margin-bottom: 4px;"><div style="display: flex;"><div contenteditable="false" data-content-editable-void="true" style="flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;"><div class="line-numbers notion-code-block" style="display: flex; overflow-x: auto;"><div autocapitalize="off" autocorrect="off" contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="false" style='flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;'><span class="token comment" data-token-index="0">// 链上的一个合约，地址是 0x06012c8cf97BEaD5deAe237070F9587f8E7A266d</span><span class="" data-token-index="0">
contract LuckyNumber </span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">
</span><span class="token function" data-token-index="0">mapping</span><span class="token punctuation" data-token-index="0">(</span><span class="token parameter" data-token-index="0">address</span><span class="" data-token-index="0"> </span><span class="token operator" data-token-index="0">=&gt;</span><span class="" data-token-index="0"> uint</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0"> numbers</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token keyword" data-token-index="0">function</span><span class="" data-token-index="0"> </span><span class="token function" data-token-index="0">setNum</span><span class="token punctuation" data-token-index="0">(</span><span class="token parameter" data-token-index="0">uint _num</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0"> </span><span class="token keyword" data-token-index="0">public</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">
    numbers</span><span class="token punctuation" data-token-index="0">[</span><span class="" data-token-index="0">msg</span><span class="token punctuation" data-token-index="0">.</span><span class="" data-token-index="0">sender</span><span class="token punctuation" data-token-index="0">]</span><span class="" data-token-index="0"> </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> _num</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token punctuation" data-token-index="0">}</span><span class="" data-token-index="0">
</span><span class="token keyword" data-token-index="0">function</span><span class="" data-token-index="0"> </span><span class="token function" data-token-index="0">getNum</span><span class="token punctuation" data-token-index="0">(</span><span class="token parameter" data-token-index="0">address _myAddress</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0"> </span><span class="token keyword" data-token-index="0">public</span><span class="" data-token-index="0"> view </span><span class="token function" data-token-index="0">returns</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">(</span><span class="token parameter" data-token-index="0">uint</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">
</span><span class="token keyword" data-token-index="0">return</span><span class="" data-token-index="0"> numbers</span><span class="token punctuation" data-token-index="0">[</span><span class="" data-token-index="0">_myAddress</span><span class="token punctuation" data-token-index="0">]</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token punctuation" data-token-index="0">}</span><span class="" data-token-index="0">
</span><span class="token punctuation" data-token-index="0">}</span><span class="" data-token-index="0">
</span><span class="token comment" data-token-index="0">/*
另一个合约
*/</span><span class="" data-token-index="0">
</span><span class="token comment" data-token-index="0">// 声明一个接口</span><span class="" data-token-index="0">
contract NumberInterface </span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">
</span><span class="token keyword" data-token-index="0">function</span><span class="" data-token-index="0"> </span><span class="token function" data-token-index="0">getNum</span><span class="token punctuation" data-token-index="0">(</span><span class="token parameter" data-token-index="0">address _myAddress</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0"> </span><span class="token keyword" data-token-index="0">public</span><span class="" data-token-index="0"> view </span><span class="token function" data-token-index="0">returns</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">(</span><span class="" data-token-index="0">uint</span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token punctuation" data-token-index="0">}</span><span class="" data-token-index="0">

contract MyContract </span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">
</span><span class="token comment" data-token-index="0">// 地址是要调用的合约的地址</span><span class="" data-token-index="0">
  address NumberInterfaceAddress </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> </span><span class="token number" data-token-index="0">0x06012c8cf97BEaD5deAe237070F9587f8E7A266d</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token comment" data-token-index="0">// 实例化接口</span><span class="" data-token-index="0">
  NumberInterface numberContract </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> </span><span class="token function" data-token-index="0">NumberInterface</span><span class="token punctuation" data-token-index="0">(</span><span class="" data-token-index="0">NumberInterfaceAddress</span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token comment" data-token-index="0">// 函数需要设置为public或external</span><span class="" data-token-index="0">
</span><span class="token keyword" data-token-index="0">function</span><span class="" data-token-index="0"> </span><span class="token function" data-token-index="0">someFunction</span><span class="token punctuation" data-token-index="0">(</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0"> </span><span class="token keyword" data-token-index="0">public</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">
</span><span class="token comment" data-token-index="0">// 现在我们可以调用在那个合约中声明的 `getNum`函数:</span><span class="" data-token-index="0">
    uint num </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> numberContract</span><span class="token punctuation" data-token-index="0">.</span><span class="token function" data-token-index="0">getNum</span><span class="token punctuation" data-token-index="0">(</span><span class="" data-token-index="0">msg</span><span class="token punctuation" data-token-index="0">.</span><span class="" data-token-index="0">sender</span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token comment" data-token-index="0">// ...在这儿使用 `num`变量做些什么</span><span class="" data-token-index="0">
</span><span class="token punctuation" data-token-index="0">}</span><span class="" data-token-index="0">
</span><span class="token punctuation" data-token-index="0">}</span><span class="" data-token-index="0">
</span><span>
</span></div></div><div style="position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;"></div><div style="position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;"><div aria-disabled="true" class="notion-focusable" role="button" style="user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;" tabindex="-1">JavaScript<svg class="chevronDown" style="width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;" viewbox="0 0 30 30"><polygon points="15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 "></polygon></svg></div></div><div style="background: white; padding-right: 105px;"></div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="337c61b3-746e-44f6-81b3-01bafe8d5c02" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; min-height: 1em; color: rgb(55, 53, 47); -webkit-text-fill-color: rgba(55, 53, 47, 0.4);"></div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="6cdb05b2-2fc0-41f2-a595-2dea0daa8b48" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; min-height: 1em; color: rgb(55, 53, 47); -webkit-text-fill-color: rgba(55, 53, 47, 0.4);"></div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="fca833bf-b6d9-4105-a399-8410e792b881" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;">处理多返回值函数</div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="545ad0fc-06c9-475a-9b5a-ad2ef8a5b5d0" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; min-height: 1em; color: rgb(55, 53, 47); -webkit-text-fill-color: rgba(55, 53, 47, 0.4);"></div></div></div></div><div class="notion-selectable notion-code-block" data-block-id="05dc8dd8-753c-47b6-a3f6-cb75036dcf3c" style="width: 100%; max-width: 1713px; margin-top: 4px; margin-bottom: 4px;"><div style="display: flex;"><div contenteditable="false" data-content-editable-void="true" style="flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;"><div class="line-numbers notion-code-block" style="display: flex; overflow-x: auto;"><div autocapitalize="off" autocorrect="off" contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="false" style='flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;'><span class="token keyword" data-token-index="0">function</span><span class="" data-token-index="0"> </span><span class="token function" data-token-index="0">multipleReturns</span><span class="token punctuation" data-token-index="0">(</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0"> internal </span><span class="token function" data-token-index="0">returns</span><span class="token punctuation" data-token-index="0">(</span><span class="token parameter" data-token-index="0">uint a</span><span class="token punctuation" data-token-index="0">,</span><span class="token parameter" data-token-index="0"> uint b</span><span class="token punctuation" data-token-index="0">,</span><span class="token parameter" data-token-index="0"> uint c</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">
</span><span class="token keyword" data-token-index="0">return</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">(</span><span class="token number" data-token-index="0">1</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0"> </span><span class="token number" data-token-index="0">2</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0"> </span><span class="token number" data-token-index="0">3</span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token punctuation" data-token-index="0">}</span><span class="" data-token-index="0">
</span><span class="token keyword" data-token-index="0">function</span><span class="" data-token-index="0"> </span><span class="token function" data-token-index="0">processMultipleReturns</span><span class="token punctuation" data-token-index="0">(</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0"> external </span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">
  uint a</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
  uint b</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
  uint c</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token comment" data-token-index="0">// 这样来做批量赋值:</span><span class="" data-token-index="0">
</span><span class="token punctuation" data-token-index="0">(</span><span class="" data-token-index="0">a</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0"> b</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0"> c</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0"> </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> </span><span class="token function" data-token-index="0">multipleReturns</span><span class="token punctuation" data-token-index="0">(</span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token punctuation" data-token-index="0">}</span><span class="" data-token-index="0">
</span><span class="token comment" data-token-index="0">// 或者如果我们只想返回其中一个变量:</span><span class="" data-token-index="0">
</span><span class="token keyword" data-token-index="0">function</span><span class="" data-token-index="0"> </span><span class="token function" data-token-index="0">getLastReturnValue</span><span class="token punctuation" data-token-index="0">(</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0"> external </span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">
  uint c</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token comment" data-token-index="0">// 可以对其他字段留空:</span><span class="" data-token-index="0">
</span><span class="token punctuation" data-token-index="0">(</span><span class="token punctuation" data-token-index="0">,</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0">c</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0"> </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> </span><span class="token function" data-token-index="0">multipleReturns</span><span class="token punctuation" data-token-index="0">(</span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token punctuation" data-token-index="0">}</span><span>
</span></div></div><div style="position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;"></div><div style="position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;"><div aria-disabled="true" class="notion-focusable" role="button" style="user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;" tabindex="-1">JavaScript<svg class="chevronDown" style="width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;" viewbox="0 0 30 30"><polygon points="15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 "></polygon></svg></div></div><div style="background: white; padding-right: 105px;"></div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="f09eb8c6-1846-4ca1-8d41-39dd51da591b" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; min-height: 1em; color: rgb(55, 53, 47); -webkit-text-fill-color: rgba(55, 53, 47, 0.4);"></div></div></div></div><div class="notion-selectable notion-code-block" data-block-id="179a1175-83c8-480b-9833-cd7a8b48a9b0" style="width: 100%; max-width: 1713px; margin-top: 4px; margin-bottom: 4px;"><div style="display: flex;"><div contenteditable="false" data-content-editable-void="true" style="flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;"><div class="line-numbers notion-code-block" style="display: flex; overflow-x: auto;"><div autocapitalize="off" autocorrect="off" contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="false" style='flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;'><span class="" data-token-index="0">pragma solidity </span><span class="token operator" data-token-index="0">^</span><span class="token number" data-token-index="0">0.4</span><span class="token number" data-token-index="0">.19</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token keyword" data-token-index="0">import</span><span class="" data-token-index="0"> </span><span class="token string" data-token-index="0">"./zombiefactory.sol"</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">

contract KittyInterface </span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">
</span><span class="token keyword" data-token-index="0">function</span><span class="" data-token-index="0"> </span><span class="token function" data-token-index="0">getKitty</span><span class="token punctuation" data-token-index="0">(</span><span class="token parameter" data-token-index="0">uint256 _id</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0"> external view </span><span class="token function" data-token-index="0">returns</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">(</span><span class="" data-token-index="0">
    bool isGestating</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0">
    bool isReady</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0">
    uint256 cooldownIndex</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0">
    uint256 nextActionAt</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0">
    uint256 siringWithId</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0">
    uint256 birthTime</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0">
    uint256 matronId</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0">
    uint256 sireId</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0">
    uint256 generation</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0">
    uint256 genes
  </span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token punctuation" data-token-index="0">}</span><span class="" data-token-index="0">

contract ZombieFeeding is ZombieFactory </span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">

  address ckAddress </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> </span><span class="token number" data-token-index="0">0x06012c8cf97BEaD5deAe237070F9587f8E7A266d</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
  KittyInterface kittyContract </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> </span><span class="token function" data-token-index="0">KittyInterface</span><span class="token punctuation" data-token-index="0">(</span><span class="" data-token-index="0">ckAddress</span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token keyword" data-token-index="0">function</span><span class="" data-token-index="0"> </span><span class="token function" data-token-index="0">feedAndMultiply</span><span class="token punctuation" data-token-index="0">(</span><span class="token parameter" data-token-index="0">uint _zombieId</span><span class="token punctuation" data-token-index="0">,</span><span class="token parameter" data-token-index="0"> uint _targetDna</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0"> </span><span class="token keyword" data-token-index="0">public</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">
</span><span class="token function" data-token-index="0">require</span><span class="token punctuation" data-token-index="0">(</span><span class="" data-token-index="0">msg</span><span class="token punctuation" data-token-index="0">.</span><span class="" data-token-index="0">sender </span><span class="token operator" data-token-index="0">==</span><span class="" data-token-index="0"> zombieToOwner</span><span class="token punctuation" data-token-index="0">[</span><span class="" data-token-index="0">_zombieId</span><span class="token punctuation" data-token-index="0">]</span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
    Zombie storage myZombie </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> zombies</span><span class="token punctuation" data-token-index="0">[</span><span class="" data-token-index="0">_zombieId</span><span class="token punctuation" data-token-index="0">]</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">

    _targetDna </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> _targetDna </span><span class="token operator" data-token-index="0">%</span><span class="" data-token-index="0"> dnaModulus</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
    uint newDna </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">(</span><span class="" data-token-index="0">myZombie</span><span class="token punctuation" data-token-index="0">.</span><span class="" data-token-index="0">dna </span><span class="token operator" data-token-index="0">+</span><span class="" data-token-index="0"> _targetDna</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0"> </span><span class="token operator" data-token-index="0">/</span><span class="" data-token-index="0"> </span><span class="token number" data-token-index="0">2</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token function" data-token-index="0">_createZombie</span><span class="token punctuation" data-token-index="0">(</span><span class="token string" data-token-index="0">"NoName"</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0"> newDna</span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token punctuation" data-token-index="0">}</span><span class="" data-token-index="0">
</span><span class="token keyword" data-token-index="0">function</span><span class="" data-token-index="0"> </span><span class="token function" data-token-index="0">feedOnKitty</span><span class="token punctuation" data-token-index="0">(</span><span class="token parameter" data-token-index="0">uint _zombieId</span><span class="token punctuation" data-token-index="0">,</span><span class="token parameter" data-token-index="0"> uint _kittyId</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0"> </span><span class="token keyword" data-token-index="0">public</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">
    uint kittyDna</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token punctuation" data-token-index="0">(</span><span class="token punctuation" data-token-index="0">,</span><span class="token punctuation" data-token-index="0">,</span><span class="token punctuation" data-token-index="0">,</span><span class="token punctuation" data-token-index="0">,</span><span class="token punctuation" data-token-index="0">,</span><span class="token punctuation" data-token-index="0">,</span><span class="token punctuation" data-token-index="0">,</span><span class="token punctuation" data-token-index="0">,</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0">kittyDna</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0"> </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> kittyContract</span><span class="token punctuation" data-token-index="0">.</span><span class="token function" data-token-index="0">getKitty</span><span class="token punctuation" data-token-index="0">(</span><span class="" data-token-index="0">_kittyId</span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token function" data-token-index="0">feedAndMultiply</span><span class="token punctuation" data-token-index="0">(</span><span class="" data-token-index="0">_zombieId</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0"> kittyDna</span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token punctuation" data-token-index="0">}</span><span class="" data-token-index="0">
</span><span class="token punctuation" data-token-index="0">}</span><span>
</span></div></div><div style="position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;"></div><div style="position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;"><div aria-disabled="true" class="notion-focusable" role="button" style="user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;" tabindex="-1">JavaScript<svg class="chevronDown" style="width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;" viewbox="0 0 30 30"><polygon points="15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 "></polygon></svg></div></div><div style="background: white; padding-right: 105px;"></div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="f8be5d98-af31-402e-8b1c-d4128ef1203c" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; min-height: 1em; color: rgb(55, 53, 47); -webkit-text-fill-color: rgba(55, 53, 47, 0.4);"></div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="45423983-f9fe-4436-888c-030a2c4ab993" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;">if 语句</div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="288d74c7-1a50-4944-9396-c15c6ad56b60" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; min-height: 1em; color: rgb(55, 53, 47); -webkit-text-fill-color: rgba(55, 53, 47, 0.4);"></div></div></div></div><div class="notion-selectable notion-code-block" data-block-id="bb94b0e7-16d2-480e-b4b8-387f8d0de513" style="width: 100%; max-width: 1713px; margin-top: 4px; margin-bottom: 4px;"><div style="display: flex;"><div contenteditable="false" data-content-editable-void="true" style="flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;"><div class="line-numbers notion-code-block" style="display: flex; overflow-x: auto;"><div autocapitalize="off" autocorrect="off" contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="false" style='flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;'><span class="token keyword" data-token-index="0">if</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">(</span><span class="" data-token-index="0">_name </span><span class="token operator" data-token-index="0">==</span><span class="" data-token-index="0"> _n</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">
</span><span class="token operator" data-token-index="0">...</span><span class="" data-token-index="0">
</span><span class="token punctuation" data-token-index="0">}</span><span>
</span></div></div><div style="position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;"></div><div style="position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;"><div aria-disabled="true" class="notion-focusable" role="button" style="user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;" tabindex="-1">JavaScript<svg class="chevronDown" style="width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;" viewbox="0 0 30 30"><polygon points="15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 "></polygon></svg></div></div><div style="background: white; padding-right: 105px;"></div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="8cb17f78-6dd0-431e-b968-07f70dfd6a9e" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; min-height: 1em; color: rgb(55, 53, 47); -webkit-text-fill-color: rgba(55, 53, 47, 0.4);"></div></div></div></div><div class="notion-selectable notion-code-block" data-block-id="e0194ffe-4116-4fc3-b01a-08f7a163fcc0" style="width: 100%; max-width: 1713px; margin-top: 4px; margin-bottom: 4px;"><div style="display: flex;"><div contenteditable="false" data-content-editable-void="true" style="flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;"><div class="line-numbers notion-code-block" style="display: flex; overflow-x: auto;"><div autocapitalize="off" autocorrect="off" contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="false" style='flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;'><span class="" data-token-index="0">pragma solidity </span><span class="token operator" data-token-index="0">^</span><span class="token number" data-token-index="0">0.4</span><span class="token number" data-token-index="0">.19</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token keyword" data-token-index="0">import</span><span class="" data-token-index="0"> </span><span class="token string" data-token-index="0">"./zombiefactory.sol"</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">

contract KittyInterface </span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">
</span><span class="token keyword" data-token-index="0">function</span><span class="" data-token-index="0"> </span><span class="token function" data-token-index="0">getKitty</span><span class="token punctuation" data-token-index="0">(</span><span class="token parameter" data-token-index="0">uint256 _id</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0"> external view </span><span class="token function" data-token-index="0">returns</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">(</span><span class="" data-token-index="0">
    bool isGestating</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0">
    bool isReady</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0">
    uint256 cooldownIndex</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0">
    uint256 nextActionAt</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0">
    uint256 siringWithId</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0">
    uint256 birthTime</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0">
    uint256 matronId</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0">
    uint256 sireId</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0">
    uint256 generation</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0">
    uint256 genes
  </span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token punctuation" data-token-index="0">}</span><span class="" data-token-index="0">

contract ZombieFeeding is ZombieFactory </span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">

  address ckAddress </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> </span><span class="token number" data-token-index="0">0x06012c8cf97BEaD5deAe237070F9587f8E7A266d</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
  KittyInterface kittyContract </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> </span><span class="token function" data-token-index="0">KittyInterface</span><span class="token punctuation" data-token-index="0">(</span><span class="" data-token-index="0">ckAddress</span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token keyword" data-token-index="0">function</span><span class="" data-token-index="0"> </span><span class="token function" data-token-index="0">feedAndMultiply</span><span class="token punctuation" data-token-index="0">(</span><span class="token parameter" data-token-index="0">uint _zombieId</span><span class="token punctuation" data-token-index="0">,</span><span class="token parameter" data-token-index="0"> uint _targetDna</span><span class="token punctuation" data-token-index="0">,</span><span class="token parameter" data-token-index="0"> string _species</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0"> </span><span class="token keyword" data-token-index="0">public</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">
</span><span class="token function" data-token-index="0">require</span><span class="token punctuation" data-token-index="0">(</span><span class="" data-token-index="0">msg</span><span class="token punctuation" data-token-index="0">.</span><span class="" data-token-index="0">sender </span><span class="token operator" data-token-index="0">==</span><span class="" data-token-index="0"> zombieToOwner</span><span class="token punctuation" data-token-index="0">[</span><span class="" data-token-index="0">_zombieId</span><span class="token punctuation" data-token-index="0">]</span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
    Zombie storage myZombie </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> zombies</span><span class="token punctuation" data-token-index="0">[</span><span class="" data-token-index="0">_zombieId</span><span class="token punctuation" data-token-index="0">]</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
    _targetDna </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> _targetDna </span><span class="token operator" data-token-index="0">%</span><span class="" data-token-index="0"> dnaModulus</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
    uint newDna </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">(</span><span class="" data-token-index="0">myZombie</span><span class="token punctuation" data-token-index="0">.</span><span class="" data-token-index="0">dna </span><span class="token operator" data-token-index="0">+</span><span class="" data-token-index="0"> _targetDna</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0"> </span><span class="token operator" data-token-index="0">/</span><span class="" data-token-index="0"> </span><span class="token number" data-token-index="0">2</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token keyword" data-token-index="0">if</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">(</span><span class="" data-token-index="0">_species </span><span class="token operator" data-token-index="0">==</span><span class="" data-token-index="0"> </span><span class="token function" data-token-index="0">keccak256</span><span class="token punctuation" data-token-index="0">(</span><span class="token string" data-token-index="0">"kitty"</span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">
        newDna </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> newDna </span><span class="token operator" data-token-index="0">-</span><span class="" data-token-index="0"> newDna </span><span class="token operator" data-token-index="0">%</span><span class="" data-token-index="0"> </span><span class="token number" data-token-index="0">100</span><span class="" data-token-index="0"> </span><span class="token operator" data-token-index="0">+</span><span class="" data-token-index="0"> </span><span class="token number" data-token-index="0">99</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token punctuation" data-token-index="0">}</span><span class="" data-token-index="0">
</span><span class="token function" data-token-index="0">_createZombie</span><span class="token punctuation" data-token-index="0">(</span><span class="token string" data-token-index="0">"NoName"</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0"> newDna</span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token punctuation" data-token-index="0">}</span><span class="" data-token-index="0">
</span><span class="token keyword" data-token-index="0">function</span><span class="" data-token-index="0"> </span><span class="token function" data-token-index="0">feedOnKitty</span><span class="token punctuation" data-token-index="0">(</span><span class="token parameter" data-token-index="0">uint _zombieId</span><span class="token punctuation" data-token-index="0">,</span><span class="token parameter" data-token-index="0"> uint _kittyId</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0"> </span><span class="token keyword" data-token-index="0">public</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">
    uint kittyDna</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token punctuation" data-token-index="0">(</span><span class="token punctuation" data-token-index="0">,</span><span class="token punctuation" data-token-index="0">,</span><span class="token punctuation" data-token-index="0">,</span><span class="token punctuation" data-token-index="0">,</span><span class="token punctuation" data-token-index="0">,</span><span class="token punctuation" data-token-index="0">,</span><span class="token punctuation" data-token-index="0">,</span><span class="token punctuation" data-token-index="0">,</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0">kittyDna</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0"> </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> kittyContract</span><span class="token punctuation" data-token-index="0">.</span><span class="token function" data-token-index="0">getKitty</span><span class="token punctuation" data-token-index="0">(</span><span class="" data-token-index="0">_kittyId</span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token function" data-token-index="0">feedAndMultiply</span><span class="token punctuation" data-token-index="0">(</span><span class="" data-token-index="0">_zombieId</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0"> kittyDna</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0"> </span><span class="token string" data-token-index="0">"kitty"</span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token punctuation" data-token-index="0">}</span><span class="" data-token-index="0">
</span><span class="token punctuation" data-token-index="0">}</span><span>
</span></div></div><div style="position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;"></div><div style="position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;"><div aria-disabled="true" class="notion-focusable" role="button" style="user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;" tabindex="-1">JavaScript<svg class="chevronDown" style="width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;" viewbox="0 0 30 30"><polygon points="15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 "></polygon></svg></div></div><div style="background: white; padding-right: 105px;"></div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="0607c184-a40c-4ba3-a117-6f7b43fbb15c" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; min-height: 1em; color: rgb(55, 53, 47); -webkit-text-fill-color: rgba(55, 53, 47, 0.4);"></div></div></div></div><div class="notion-selectable notion-code-block" data-block-id="7f465a80-b05b-47cd-b08e-7d9132442029" style="width: 100%; max-width: 1713px; margin-top: 4px; margin-bottom: 4px;"><div style="display: flex;"><div contenteditable="false" data-content-editable-void="true" style="flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;"><div class="line-numbers notion-code-block" style="display: flex; overflow-x: auto;"><div autocapitalize="off" autocorrect="off" contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="false" style='flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;'><span class="token keyword" data-token-index="0">var</span><span class="" data-token-index="0"> abi </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> </span><span class="token comment" data-token-index="0">/* abi generated by the compiler */</span><span class="" data-token-index="0">
</span><span class="token keyword" data-token-index="0">var</span><span class="" data-token-index="0"> ZombieFeedingContract </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> web3</span><span class="token punctuation" data-token-index="0">.</span><span class="" data-token-index="0">eth</span><span class="token punctuation" data-token-index="0">.</span><span class="token function" data-token-index="0">contract</span><span class="token punctuation" data-token-index="0">(</span><span class="" data-token-index="0">abi</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0">
</span><span class="token keyword" data-token-index="0">var</span><span class="" data-token-index="0"> contractAddress </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> </span><span class="token comment" data-token-index="0">/* our contract address on Ethereum after deploying */</span><span class="" data-token-index="0">
</span><span class="token keyword" data-token-index="0">var</span><span class="" data-token-index="0"> ZombieFeeding </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> ZombieFeedingContract</span><span class="token punctuation" data-token-index="0">.</span><span class="token function" data-token-index="0">at</span><span class="token punctuation" data-token-index="0">(</span><span class="" data-token-index="0">contractAddress</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0">
</span><span class="token comment" data-token-index="0">// 假设我们有我们的僵尸ID和要攻击的猫咪ID</span><span class="" data-token-index="0">
</span><span class="token keyword" data-token-index="0">let</span><span class="" data-token-index="0"> zombieId </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> </span><span class="token number" data-token-index="0">1</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token keyword" data-token-index="0">let</span><span class="" data-token-index="0"> kittyId </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> </span><span class="token number" data-token-index="0">1</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token comment" data-token-index="0">// 要拿到猫咪的DNA，我们需要调用它的API。这些数据保存在它们的服务器上而不是区块链上。</span><span class="" data-token-index="0">
</span><span class="token comment" data-token-index="0">// 如果一切都在区块链上，我们就不用担心它们的服务器挂了，或者它们修改了API，</span><span class="" data-token-index="0">
</span><span class="token comment" data-token-index="0">// 或者因为不喜欢我们的僵尸游戏而封杀了我们</span><span class="" data-token-index="0">
</span><span class="token keyword" data-token-index="0">let</span><span class="" data-token-index="0"> apiUrl </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> </span><span class="token string" data-token-index="0">"https://api.cryptokitties.co/kitties/"</span><span class="" data-token-index="0"> </span><span class="token operator" data-token-index="0">+</span><span class="" data-token-index="0"> kittyId
$</span><span class="token punctuation" data-token-index="0">.</span><span class="token function" data-token-index="0">get</span><span class="token punctuation" data-token-index="0">(</span><span class="" data-token-index="0">apiUrl</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0"> </span><span class="token keyword" data-token-index="0">function</span><span class="token punctuation" data-token-index="0">(</span><span class="token parameter" data-token-index="0">data</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">
</span><span class="token keyword" data-token-index="0">let</span><span class="" data-token-index="0"> imgUrl </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> data</span><span class="token punctuation" data-token-index="0">.</span><span class="" data-token-index="0">image_url
  </span><span class="token comment" data-token-index="0">// 一些显示图片的代码</span><span class="" data-token-index="0">
</span><span class="token punctuation" data-token-index="0">}</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0">
</span><span class="token comment" data-token-index="0">// 当用户点击一只猫咪的时候:</span><span class="" data-token-index="0">
</span><span class="token function" data-token-index="0">$</span><span class="token punctuation" data-token-index="0">(</span><span class="token string" data-token-index="0">".kittyImage"</span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">.</span><span class="token function" data-token-index="0">click</span><span class="token punctuation" data-token-index="0">(</span><span class="token keyword" data-token-index="0">function</span><span class="token punctuation" data-token-index="0">(</span><span class="token parameter" data-token-index="0">e</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">
</span><span class="token comment" data-token-index="0">// 调用我们合约的 `feedOnKitty` 函数</span><span class="" data-token-index="0">
  ZombieFeeding</span><span class="token punctuation" data-token-index="0">.</span><span class="token function" data-token-index="0">feedOnKitty</span><span class="token punctuation" data-token-index="0">(</span><span class="" data-token-index="0">zombieId</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0"> kittyId</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0">
</span><span class="token punctuation" data-token-index="0">}</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0">
</span><span class="token comment" data-token-index="0">// 侦听来自我们合约的新僵尸事件好来处理</span><span class="" data-token-index="0">
ZombieFactory</span><span class="token punctuation" data-token-index="0">.</span><span class="token function" data-token-index="0">NewZombie</span><span class="token punctuation" data-token-index="0">(</span><span class="token keyword" data-token-index="0">function</span><span class="token punctuation" data-token-index="0">(</span><span class="token parameter" data-token-index="0">error</span><span class="token punctuation" data-token-index="0">,</span><span class="token parameter" data-token-index="0"> result</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">
</span><span class="token keyword" data-token-index="0">if</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">(</span><span class="" data-token-index="0">error</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0"> </span><span class="token keyword" data-token-index="0">return</span><span class="" data-token-index="0">
</span><span class="token comment" data-token-index="0">// 这个函数用来显示僵尸:</span><span class="" data-token-index="0">
</span><span class="token function" data-token-index="0">generateZombie</span><span class="token punctuation" data-token-index="0">(</span><span class="" data-token-index="0">result</span><span class="token punctuation" data-token-index="0">.</span><span class="" data-token-index="0">zombieId</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0"> result</span><span class="token punctuation" data-token-index="0">.</span><span class="" data-token-index="0">name</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0"> result</span><span class="token punctuation" data-token-index="0">.</span><span class="" data-token-index="0">dna</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0">
</span><span class="token punctuation" data-token-index="0">}</span><span class="token punctuation" data-token-index="0">)</span><span>
</span></div></div><div style="position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;"></div><div style="position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;"><div aria-disabled="true" class="notion-focusable" role="button" style="user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;" tabindex="-1">JavaScript<svg class="chevronDown" style="width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;" viewbox="0 0 30 30"><polygon points="15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 "></polygon></svg></div></div><div style="background: white; padding-right: 105px;"></div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="bb73de84-a1fc-4aef-ab1b-495699f45454" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; min-height: 1em; color: rgb(55, 53, 47); -webkit-text-fill-color: rgba(55, 53, 47, 0.4);"></div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="3edd3542-23d5-4e68-94d1-bf8f57ae5716" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; min-height: 1em; color: rgb(55, 53, 47); -webkit-text-fill-color: rgba(55, 53, 47, 0.4);"></div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="0e2eac00-b261-4ab7-9332-10f3e69a3730" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;">Ownable Contracts</div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="42be84fb-6d0f-4c34-99cb-62dcfb9e1626" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; min-height: 1em; color: rgb(55, 53, 47); -webkit-text-fill-color: rgba(55, 53, 47, 0.4);"></div></div></div></div><div class="notion-selectable notion-code-block" data-block-id="4802b9ca-aebc-4f58-8c0b-2803bdca6124" style="width: 100%; max-width: 1713px; margin-top: 4px; margin-bottom: 4px;"><div style="display: flex;"><div contenteditable="false" data-content-editable-void="true" style="flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;"><div class="line-numbers notion-code-block" style="display: flex; overflow-x: auto;"><div autocapitalize="off" autocorrect="off" contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="false" style='flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;'><span class="token comment" data-token-index="0">/*
构造函数 与合约同名的函数

函数修饰符 modifier 用来修饰其它已有函数用的，在执行其它语句前，先检查条件

*/</span><span class="" data-token-index="0">

modifier </span><span class="token function" data-token-index="0">onlyOwner</span><span class="token punctuation" data-token-index="0">(</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">
</span><span class="token function" data-token-index="0">require</span><span class="token punctuation" data-token-index="0">(</span><span class="" data-token-index="0">msg</span><span class="token punctuation" data-token-index="0">.</span><span class="" data-token-index="0">sender </span><span class="token operator" data-token-index="0">==</span><span class="" data-token-index="0"> owner</span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
  _</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token punctuation" data-token-index="0">}</span><span class="" data-token-index="0">
</span><span class="token comment" data-token-index="0">// 先执行onlyOwner函数，当遇到_;后，返回继续执行函数后续代码</span><span class="" data-token-index="0">
</span><span class="token keyword" data-token-index="0">function</span><span class="" data-token-index="0"> </span><span class="token function" data-token-index="0">likeApple</span><span class="token punctuation" data-token-index="0">(</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0"> external onlyOwner </span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">
</span><span class="token operator" data-token-index="0">...</span><span class="" data-token-index="0">
</span><span class="token punctuation" data-token-index="0">}</span><span class="" data-token-index="0">
</span><span>
</span></div></div><div style="position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;"></div><div style="position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;"><div aria-disabled="true" class="notion-focusable" role="button" style="user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;" tabindex="-1">JavaScript<svg class="chevronDown" style="width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;" viewbox="0 0 30 30"><polygon points="15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 "></polygon></svg></div></div><div style="background: white; padding-right: 105px;"></div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="706f8462-e589-4093-8364-bb2e3ca3c3f2" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; min-height: 1em; color: rgb(55, 53, 47); -webkit-text-fill-color: rgba(55, 53, 47, 0.4);"></div></div></div></div><div class="notion-selectable notion-code-block" data-block-id="ae4c12bf-4623-4405-b4bf-2394bf6bbd5c" style="width: 100%; max-width: 1713px; margin-top: 4px; margin-bottom: 4px;"><div style="display: flex;"><div contenteditable="false" data-content-editable-void="true" style="flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;"><div class="line-numbers notion-code-block" style="display: flex; overflow-x: auto;"><div autocapitalize="off" autocorrect="off" contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="false" style='flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;'><span class="" data-token-index="0">pragma solidity </span><span class="token operator" data-token-index="0">^</span><span class="token number" data-token-index="0">0.4</span><span class="token number" data-token-index="0">.19</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token comment" data-token-index="0">// 导入</span><span class="" data-token-index="0">
</span><span class="token keyword" data-token-index="0">import</span><span class="" data-token-index="0"> </span><span class="token string" data-token-index="0">"./ownable.sol"</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token comment" data-token-index="0">// 继承Ownable</span><span class="" data-token-index="0">
contract ZombieFactory is Ownable </span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">

    event </span><span class="token function" data-token-index="0">NewZombie</span><span class="token punctuation" data-token-index="0">(</span><span class="" data-token-index="0">uint zombieId</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0"> string name</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0"> uint dna</span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">

    uint dnaDigits </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> </span><span class="token number" data-token-index="0">16</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
    uint dnaModulus </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> </span><span class="token number" data-token-index="0">10</span><span class="" data-token-index="0"> </span><span class="token operator" data-token-index="0">**</span><span class="" data-token-index="0"> dnaDigits</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">

    struct Zombie </span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">
        string name</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
        uint dna</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token punctuation" data-token-index="0">}</span><span class="" data-token-index="0">

    Zombie</span><span class="token punctuation" data-token-index="0">[</span><span class="token punctuation" data-token-index="0">]</span><span class="" data-token-index="0"> </span><span class="token keyword" data-token-index="0">public</span><span class="" data-token-index="0"> zombies</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token function" data-token-index="0">mapping</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">(</span><span class="token parameter" data-token-index="0">uint</span><span class="" data-token-index="0"> </span><span class="token operator" data-token-index="0">=&gt;</span><span class="" data-token-index="0"> address</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0"> </span><span class="token keyword" data-token-index="0">public</span><span class="" data-token-index="0"> zombieToOwner</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token function" data-token-index="0">mapping</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">(</span><span class="token parameter" data-token-index="0">address</span><span class="" data-token-index="0"> </span><span class="token operator" data-token-index="0">=&gt;</span><span class="" data-token-index="0"> uint</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0"> ownerZombieCount</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token keyword" data-token-index="0">function</span><span class="" data-token-index="0"> </span><span class="token function" data-token-index="0">_createZombie</span><span class="token punctuation" data-token-index="0">(</span><span class="token parameter" data-token-index="0">string _name</span><span class="token punctuation" data-token-index="0">,</span><span class="token parameter" data-token-index="0"> uint _dna</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0"> internal </span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">
        uint id </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> zombies</span><span class="token punctuation" data-token-index="0">.</span><span class="token function" data-token-index="0">push</span><span class="token punctuation" data-token-index="0">(</span><span class="token function" data-token-index="0">Zombie</span><span class="token punctuation" data-token-index="0">(</span><span class="" data-token-index="0">_name</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0"> _dna</span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0"> </span><span class="token operator" data-token-index="0">-</span><span class="" data-token-index="0"> </span><span class="token number" data-token-index="0">1</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
        zombieToOwner</span><span class="token punctuation" data-token-index="0">[</span><span class="" data-token-index="0">id</span><span class="token punctuation" data-token-index="0">]</span><span class="" data-token-index="0"> </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> msg</span><span class="token punctuation" data-token-index="0">.</span><span class="" data-token-index="0">sender</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
        ownerZombieCount</span><span class="token punctuation" data-token-index="0">[</span><span class="" data-token-index="0">msg</span><span class="token punctuation" data-token-index="0">.</span><span class="" data-token-index="0">sender</span><span class="token punctuation" data-token-index="0">]</span><span class="token operator" data-token-index="0">++</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token function" data-token-index="0">NewZombie</span><span class="token punctuation" data-token-index="0">(</span><span class="" data-token-index="0">id</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0"> _name</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0"> _dna</span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token punctuation" data-token-index="0">}</span><span class="" data-token-index="0">
</span><span class="token keyword" data-token-index="0">function</span><span class="" data-token-index="0"> </span><span class="token function" data-token-index="0">_generateRandomDna</span><span class="token punctuation" data-token-index="0">(</span><span class="token parameter" data-token-index="0">string _str</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0"> </span><span class="token keyword" data-token-index="0">private</span><span class="" data-token-index="0"> view </span><span class="token function" data-token-index="0">returns</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">(</span><span class="token parameter" data-token-index="0">uint</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">
        uint rand </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> </span><span class="token function" data-token-index="0">uint</span><span class="token punctuation" data-token-index="0">(</span><span class="token function" data-token-index="0">keccak256</span><span class="token punctuation" data-token-index="0">(</span><span class="" data-token-index="0">_str</span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token keyword" data-token-index="0">return</span><span class="" data-token-index="0"> rand </span><span class="token operator" data-token-index="0">%</span><span class="" data-token-index="0"> dnaModulus</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token punctuation" data-token-index="0">}</span><span class="" data-token-index="0">
</span><span class="token keyword" data-token-index="0">function</span><span class="" data-token-index="0"> </span><span class="token function" data-token-index="0">createRandomZombie</span><span class="token punctuation" data-token-index="0">(</span><span class="token parameter" data-token-index="0">string _name</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0"> </span><span class="token keyword" data-token-index="0">public</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">
</span><span class="token function" data-token-index="0">require</span><span class="token punctuation" data-token-index="0">(</span><span class="" data-token-index="0">ownerZombieCount</span><span class="token punctuation" data-token-index="0">[</span><span class="" data-token-index="0">msg</span><span class="token punctuation" data-token-index="0">.</span><span class="" data-token-index="0">sender</span><span class="token punctuation" data-token-index="0">]</span><span class="" data-token-index="0"> </span><span class="token operator" data-token-index="0">==</span><span class="" data-token-index="0"> </span><span class="token number" data-token-index="0">0</span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
        uint randDna </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> </span><span class="token function" data-token-index="0">_generateRandomDna</span><span class="token punctuation" data-token-index="0">(</span><span class="" data-token-index="0">_name</span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
        randDna </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> randDna </span><span class="token operator" data-token-index="0">-</span><span class="" data-token-index="0"> randDna </span><span class="token operator" data-token-index="0">%</span><span class="" data-token-index="0"> </span><span class="token number" data-token-index="0">100</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token function" data-token-index="0">_createZombie</span><span class="token punctuation" data-token-index="0">(</span><span class="" data-token-index="0">_name</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0"> randDna</span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token punctuation" data-token-index="0">}</span><span class="" data-token-index="0">
</span><span class="token punctuation" data-token-index="0">}</span><span>
</span></div></div><div style="position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;"></div><div style="position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;"><div aria-disabled="true" class="notion-focusable" role="button" style="user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;" tabindex="-1">JavaScript<svg class="chevronDown" style="width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;" viewbox="0 0 30 30"><polygon points="15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 "></polygon></svg></div></div><div style="background: white; padding-right: 105px;"></div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="071532fd-0c28-4c36-86d6-ffee354d79c9" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; min-height: 1em; color: rgb(55, 53, 47); -webkit-text-fill-color: rgba(55, 53, 47, 0.4);"></div></div></div></div><div class="notion-selectable notion-code-block" data-block-id="dd98643a-8fd0-4763-877c-bfbdfa8e1f27" style="width: 100%; max-width: 1713px; margin-top: 4px; margin-bottom: 4px;"><div style="display: flex;"><div contenteditable="false" data-content-editable-void="true" style="flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;"><div class="line-numbers notion-code-block" style="display: flex; overflow-x: auto;"><div autocapitalize="off" autocorrect="off" contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="false" style='flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;'><span class="" data-token-index="0">pragma solidity </span><span class="token operator" data-token-index="0">^</span><span class="token number" data-token-index="0">0.4</span><span class="token number" data-token-index="0">.19</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token keyword" data-token-index="0">import</span><span class="" data-token-index="0"> </span><span class="token string" data-token-index="0">"./zombiefactory.sol"</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">

contract KittyInterface </span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">
</span><span class="token keyword" data-token-index="0">function</span><span class="" data-token-index="0"> </span><span class="token function" data-token-index="0">getKitty</span><span class="token punctuation" data-token-index="0">(</span><span class="token parameter" data-token-index="0">uint256 _id</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0"> external view </span><span class="token function" data-token-index="0">returns</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">(</span><span class="" data-token-index="0">
    bool isGestating</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0">
    bool isReady</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0">
    uint256 cooldownIndex</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0">
    uint256 nextActionAt</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0">
    uint256 siringWithId</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0">
    uint256 birthTime</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0">
    uint256 matronId</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0">
    uint256 sireId</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0">
    uint256 generation</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0">
    uint256 genes
  </span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token punctuation" data-token-index="0">}</span><span class="" data-token-index="0">

contract ZombieFeeding is ZombieFactory </span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">

  KittyInterface kittyContract</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token comment" data-token-index="0">// 添加onlyOwner</span><span class="" data-token-index="0">
</span><span class="token keyword" data-token-index="0">function</span><span class="" data-token-index="0"> </span><span class="token function" data-token-index="0">setKittyContractAddress</span><span class="token punctuation" data-token-index="0">(</span><span class="token parameter" data-token-index="0">address _address</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0"> external onlyOwner </span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">
    kittyContract </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> </span><span class="token function" data-token-index="0">KittyInterface</span><span class="token punctuation" data-token-index="0">(</span><span class="" data-token-index="0">_address</span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token punctuation" data-token-index="0">}</span><span class="" data-token-index="0">
</span><span class="token keyword" data-token-index="0">function</span><span class="" data-token-index="0"> </span><span class="token function" data-token-index="0">feedAndMultiply</span><span class="token punctuation" data-token-index="0">(</span><span class="token parameter" data-token-index="0">uint _zombieId</span><span class="token punctuation" data-token-index="0">,</span><span class="token parameter" data-token-index="0"> uint _targetDna</span><span class="token punctuation" data-token-index="0">,</span><span class="token parameter" data-token-index="0"> string species</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0"> </span><span class="token keyword" data-token-index="0">public</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">
</span><span class="token function" data-token-index="0">require</span><span class="token punctuation" data-token-index="0">(</span><span class="" data-token-index="0">msg</span><span class="token punctuation" data-token-index="0">.</span><span class="" data-token-index="0">sender </span><span class="token operator" data-token-index="0">==</span><span class="" data-token-index="0"> zombieToOwner</span><span class="token punctuation" data-token-index="0">[</span><span class="" data-token-index="0">_zombieId</span><span class="token punctuation" data-token-index="0">]</span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
    Zombie storage myZombie </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> zombies</span><span class="token punctuation" data-token-index="0">[</span><span class="" data-token-index="0">_zombieId</span><span class="token punctuation" data-token-index="0">]</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
    _targetDna </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> _targetDna </span><span class="token operator" data-token-index="0">%</span><span class="" data-token-index="0"> dnaModulus</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
    uint newDna </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">(</span><span class="" data-token-index="0">myZombie</span><span class="token punctuation" data-token-index="0">.</span><span class="" data-token-index="0">dna </span><span class="token operator" data-token-index="0">+</span><span class="" data-token-index="0"> _targetDna</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0"> </span><span class="token operator" data-token-index="0">/</span><span class="" data-token-index="0"> </span><span class="token number" data-token-index="0">2</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token keyword" data-token-index="0">if</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">(</span><span class="token function" data-token-index="0">keccak256</span><span class="token punctuation" data-token-index="0">(</span><span class="" data-token-index="0">species</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0"> </span><span class="token operator" data-token-index="0">==</span><span class="" data-token-index="0"> </span><span class="token function" data-token-index="0">keccak256</span><span class="token punctuation" data-token-index="0">(</span><span class="token string" data-token-index="0">"kitty"</span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">
      newDna </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> newDna </span><span class="token operator" data-token-index="0">-</span><span class="" data-token-index="0"> newDna </span><span class="token operator" data-token-index="0">%</span><span class="" data-token-index="0"> </span><span class="token number" data-token-index="0">100</span><span class="" data-token-index="0"> </span><span class="token operator" data-token-index="0">+</span><span class="" data-token-index="0"> </span><span class="token number" data-token-index="0">99</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token punctuation" data-token-index="0">}</span><span class="" data-token-index="0">
</span><span class="token function" data-token-index="0">_createZombie</span><span class="token punctuation" data-token-index="0">(</span><span class="token string" data-token-index="0">"NoName"</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0"> newDna</span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token punctuation" data-token-index="0">}</span><span class="" data-token-index="0">
</span><span class="token keyword" data-token-index="0">function</span><span class="" data-token-index="0"> </span><span class="token function" data-token-index="0">feedOnKitty</span><span class="token punctuation" data-token-index="0">(</span><span class="token parameter" data-token-index="0">uint _zombieId</span><span class="token punctuation" data-token-index="0">,</span><span class="token parameter" data-token-index="0"> uint _kittyId</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0"> </span><span class="token keyword" data-token-index="0">public</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">
    uint kittyDna</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token punctuation" data-token-index="0">(</span><span class="token punctuation" data-token-index="0">,</span><span class="token punctuation" data-token-index="0">,</span><span class="token punctuation" data-token-index="0">,</span><span class="token punctuation" data-token-index="0">,</span><span class="token punctuation" data-token-index="0">,</span><span class="token punctuation" data-token-index="0">,</span><span class="token punctuation" data-token-index="0">,</span><span class="token punctuation" data-token-index="0">,</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0">kittyDna</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0"> </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> kittyContract</span><span class="token punctuation" data-token-index="0">.</span><span class="token function" data-token-index="0">getKitty</span><span class="token punctuation" data-token-index="0">(</span><span class="" data-token-index="0">_kittyId</span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token function" data-token-index="0">feedAndMultiply</span><span class="token punctuation" data-token-index="0">(</span><span class="" data-token-index="0">_zombieId</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0"> kittyDna</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0"> </span><span class="token string" data-token-index="0">"kitty"</span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token punctuation" data-token-index="0">}</span><span class="" data-token-index="0">
</span><span class="token punctuation" data-token-index="0">}</span><span>
</span></div></div><div style="position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;"></div><div style="position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;"><div aria-disabled="true" class="notion-focusable" role="button" style="user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;" tabindex="-1">JavaScript<svg class="chevronDown" style="width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;" viewbox="0 0 30 30"><polygon points="15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 "></polygon></svg></div></div><div style="background: white; padding-right: 105px;"></div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="22f85aff-b365-4229-8ad5-1fe3edb37315" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; min-height: 1em; color: rgb(55, 53, 47); -webkit-text-fill-color: rgba(55, 53, 47, 0.4);"></div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="17fb3b08-a061-48b5-9268-00be2b9197f1" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; min-height: 1em; color: rgb(55, 53, 47); -webkit-text-fill-color: rgba(55, 53, 47, 0.4);"></div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="d52a39ff-16bc-4566-a8f2-0a70a9601967" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;">结构封装 （Struct packing）</div></div></div></div><div class="notion-selectable notion-code-block" data-block-id="92fe5a64-779f-4efd-af5c-0e5aabca7db4" style="width: 100%; max-width: 1713px; margin-top: 4px; margin-bottom: 4px;"><div style="display: flex;"><div contenteditable="false" data-content-editable-void="true" style="flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;"><div class="line-numbers notion-code-block" style="display: flex; overflow-x: auto;"><div autocapitalize="off" autocorrect="off" contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="false" style='flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;'><span class="token comment" data-token-index="0">/*
使用struct来保存多个状态变量，会更加节约存储空间，从而减少gas花费
将同类型的状态变量，放在相邻位置，能更有效的节约空间
*/</span><span class="" data-token-index="0">


uint c</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0"> uint32 a</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0"> uint32 b</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span>
</span></div></div><div style="position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;"></div><div style="position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;"><div aria-disabled="true" class="notion-focusable" role="button" style="user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;" tabindex="-1">JavaScript<svg class="chevronDown" style="width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;" viewbox="0 0 30 30"><polygon points="15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 "></polygon></svg></div></div><div style="background: white; padding-right: 105px;"></div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="f41763c7-a0db-48dd-b684-96eb5c0898a4" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; min-height: 1em; color: rgb(55, 53, 47); -webkit-text-fill-color: rgba(55, 53, 47, 0.4);"></div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="dff04008-2fe0-42e7-86d1-ba943bd7a586" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; min-height: 1em; color: rgb(55, 53, 47); -webkit-text-fill-color: rgba(55, 53, 47, 0.4);"></div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="83ce13d7-5ee6-4e19-90c0-0b3d3f18f9d6" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;">时间单位</div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="db6a3d2c-cf70-4da3-9a00-0fd8c53db2bc" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; min-height: 1em; color: rgb(55, 53, 47); -webkit-text-fill-color: rgba(55, 53, 47, 0.4);"></div></div></div></div><div class="notion-selectable notion-code-block" data-block-id="63a254b2-a03e-46ca-8fbf-a03fe2e11986" style="width: 100%; max-width: 1713px; margin-top: 4px; margin-bottom: 4px;"><div style="display: flex;"><div contenteditable="false" data-content-editable-void="true" style="flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;"><div class="line-numbers notion-code-block" style="display: flex; overflow-x: auto;"><div autocapitalize="off" autocorrect="off" contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="false" style='flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;'><span class="token comment" data-token-index="0">/*
变量now 返回unix时间戳

Solidity 还包含秒(seconds)，分钟(minutes)，小时(hours)，天(days)，周(weeks) 和 年(years) 
*/</span><span class="" data-token-index="0">

lastUpdated </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> now </span><span class="token operator" data-token-index="0">+</span><span class="" data-token-index="0"> </span><span class="token number" data-token-index="0">5</span><span class="" data-token-index="0"> minutes</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span>
</span></div></div><div style="position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;"></div><div style="position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;"><div aria-disabled="true" class="notion-focusable" role="button" style="user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;" tabindex="-1">JavaScript<svg class="chevronDown" style="width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;" viewbox="0 0 30 30"><polygon points="15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 "></polygon></svg></div></div><div style="background: white; padding-right: 105px;"></div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="f3a9c13a-80d1-4c4a-8cf5-677b92a62efe" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; min-height: 1em; color: rgb(55, 53, 47); -webkit-text-fill-color: rgba(55, 53, 47, 0.4);"></div></div></div></div><div class="notion-selectable notion-code-block" data-block-id="f796f88c-dda8-4c6f-bbdc-e917f4ecc8be" style="width: 100%; max-width: 1713px; margin-top: 4px; margin-bottom: 4px;"><div style="display: flex;"><div contenteditable="false" data-content-editable-void="true" style="flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;"><div class="line-numbers notion-code-block" style="display: flex; overflow-x: auto;"><div autocapitalize="off" autocorrect="off" contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="false" style='flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;'><span class="" data-token-index="0">pragma solidity </span><span class="token operator" data-token-index="0">^</span><span class="token number" data-token-index="0">0.4</span><span class="token number" data-token-index="0">.19</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token keyword" data-token-index="0">import</span><span class="" data-token-index="0"> </span><span class="token string" data-token-index="0">"./ownable.sol"</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">

contract ZombieFactory is Ownable </span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">

    event </span><span class="token function" data-token-index="0">NewZombie</span><span class="token punctuation" data-token-index="0">(</span><span class="" data-token-index="0">uint zombieId</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0"> string name</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0"> uint dna</span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">

    uint dnaDigits </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> </span><span class="token number" data-token-index="0">16</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
    uint dnaModulus </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> </span><span class="token number" data-token-index="0">10</span><span class="" data-token-index="0"> </span><span class="token operator" data-token-index="0">**</span><span class="" data-token-index="0"> dnaDigits</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
    uint cooldownTime </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> </span><span class="token number" data-token-index="0">1</span><span class="" data-token-index="0"> days</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">

    struct Zombie </span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">
      string name</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
      uint dna</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
      uint32 level</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
      uint32 readyTime</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token punctuation" data-token-index="0">}</span><span class="" data-token-index="0">

    Zombie</span><span class="token punctuation" data-token-index="0">[</span><span class="token punctuation" data-token-index="0">]</span><span class="" data-token-index="0"> </span><span class="token keyword" data-token-index="0">public</span><span class="" data-token-index="0"> zombies</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token function" data-token-index="0">mapping</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">(</span><span class="token parameter" data-token-index="0">uint</span><span class="" data-token-index="0"> </span><span class="token operator" data-token-index="0">=&gt;</span><span class="" data-token-index="0"> address</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0"> </span><span class="token keyword" data-token-index="0">public</span><span class="" data-token-index="0"> zombieToOwner</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token function" data-token-index="0">mapping</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">(</span><span class="token parameter" data-token-index="0">address</span><span class="" data-token-index="0"> </span><span class="token operator" data-token-index="0">=&gt;</span><span class="" data-token-index="0"> uint</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0"> ownerZombieCount</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token keyword" data-token-index="0">function</span><span class="" data-token-index="0"> </span><span class="token function" data-token-index="0">_createZombie</span><span class="token punctuation" data-token-index="0">(</span><span class="token parameter" data-token-index="0">string _name</span><span class="token punctuation" data-token-index="0">,</span><span class="token parameter" data-token-index="0"> uint _dna</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0"> internal </span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">
</span><span class="token comment" data-token-index="0">// 传入新加的参数</span><span class="" data-token-index="0">
        uint id </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> zombies</span><span class="token punctuation" data-token-index="0">.</span><span class="token function" data-token-index="0">push</span><span class="token punctuation" data-token-index="0">(</span><span class="token function" data-token-index="0">Zombie</span><span class="token punctuation" data-token-index="0">(</span><span class="" data-token-index="0">_name</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0"> _dna</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0"> </span><span class="token number" data-token-index="0">1</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0"> </span><span class="token function" data-token-index="0">uint32</span><span class="token punctuation" data-token-index="0">(</span><span class="" data-token-index="0">now </span><span class="token operator" data-token-index="0">+</span><span class="" data-token-index="0"> cooldownTime</span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0"> </span><span class="token operator" data-token-index="0">-</span><span class="" data-token-index="0"> </span><span class="token number" data-token-index="0">1</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
        zombieToOwner</span><span class="token punctuation" data-token-index="0">[</span><span class="" data-token-index="0">id</span><span class="token punctuation" data-token-index="0">]</span><span class="" data-token-index="0"> </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> msg</span><span class="token punctuation" data-token-index="0">.</span><span class="" data-token-index="0">sender</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
        ownerZombieCount</span><span class="token punctuation" data-token-index="0">[</span><span class="" data-token-index="0">msg</span><span class="token punctuation" data-token-index="0">.</span><span class="" data-token-index="0">sender</span><span class="token punctuation" data-token-index="0">]</span><span class="token operator" data-token-index="0">++</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token function" data-token-index="0">NewZombie</span><span class="token punctuation" data-token-index="0">(</span><span class="" data-token-index="0">id</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0"> _name</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0"> _dna</span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token punctuation" data-token-index="0">}</span><span class="" data-token-index="0">
</span><span class="token keyword" data-token-index="0">function</span><span class="" data-token-index="0"> </span><span class="token function" data-token-index="0">_generateRandomDna</span><span class="token punctuation" data-token-index="0">(</span><span class="token parameter" data-token-index="0">string _str</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0"> </span><span class="token keyword" data-token-index="0">private</span><span class="" data-token-index="0"> view </span><span class="token function" data-token-index="0">returns</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">(</span><span class="token parameter" data-token-index="0">uint</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">
        uint rand </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> </span><span class="token function" data-token-index="0">uint</span><span class="token punctuation" data-token-index="0">(</span><span class="token function" data-token-index="0">keccak256</span><span class="token punctuation" data-token-index="0">(</span><span class="" data-token-index="0">_str</span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token keyword" data-token-index="0">return</span><span class="" data-token-index="0"> rand </span><span class="token operator" data-token-index="0">%</span><span class="" data-token-index="0"> dnaModulus</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token punctuation" data-token-index="0">}</span><span class="" data-token-index="0">
</span><span class="token keyword" data-token-index="0">function</span><span class="" data-token-index="0"> </span><span class="token function" data-token-index="0">createRandomZombie</span><span class="token punctuation" data-token-index="0">(</span><span class="token parameter" data-token-index="0">string _name</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0"> </span><span class="token keyword" data-token-index="0">public</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">
</span><span class="token function" data-token-index="0">require</span><span class="token punctuation" data-token-index="0">(</span><span class="" data-token-index="0">ownerZombieCount</span><span class="token punctuation" data-token-index="0">[</span><span class="" data-token-index="0">msg</span><span class="token punctuation" data-token-index="0">.</span><span class="" data-token-index="0">sender</span><span class="token punctuation" data-token-index="0">]</span><span class="" data-token-index="0"> </span><span class="token operator" data-token-index="0">==</span><span class="" data-token-index="0"> </span><span class="token number" data-token-index="0">0</span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
        uint randDna </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> </span><span class="token function" data-token-index="0">_generateRandomDna</span><span class="token punctuation" data-token-index="0">(</span><span class="" data-token-index="0">_name</span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
        randDna </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> randDna </span><span class="token operator" data-token-index="0">-</span><span class="" data-token-index="0"> randDna </span><span class="token operator" data-token-index="0">%</span><span class="" data-token-index="0"> </span><span class="token number" data-token-index="0">100</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token function" data-token-index="0">_createZombie</span><span class="token punctuation" data-token-index="0">(</span><span class="" data-token-index="0">_name</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0"> randDna</span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token punctuation" data-token-index="0">}</span><span class="" data-token-index="0">
</span><span class="token punctuation" data-token-index="0">}</span><span>
</span></div></div><div style="position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;"></div><div style="position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;"><div aria-disabled="true" class="notion-focusable" role="button" style="user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;" tabindex="-1">JavaScript<svg class="chevronDown" style="width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;" viewbox="0 0 30 30"><polygon points="15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 "></polygon></svg></div></div><div style="background: white; padding-right: 105px;"></div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="ab020da3-3635-4bfa-8dc7-f860b309b910" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; min-height: 1em; color: rgb(55, 53, 47); -webkit-text-fill-color: rgba(55, 53, 47, 0.4);"></div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="d52553ae-4fa0-4123-ac71-7b87e178d28c" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;">带参数的函数修饰符</div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="6349ee5c-dcaf-49a2-a3d9-c67e4caf4c82" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; min-height: 1em; color: rgb(55, 53, 47); -webkit-text-fill-color: rgba(55, 53, 47, 0.4);"></div></div></div></div><div class="notion-selectable notion-code-block" data-block-id="3e8b6d4c-c3d1-4a56-a79a-17bec40bf453" style="width: 100%; max-width: 1713px; margin-top: 4px; margin-bottom: 4px;"><div style="display: flex;"><div contenteditable="false" data-content-editable-void="true" style="flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;"><div class="line-numbers notion-code-block" style="display: flex; overflow-x: auto;"><div autocapitalize="off" autocorrect="off" contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="false" style='flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;'><span class="token comment" data-token-index="0">/*
// 存储用户年龄的映射
mapping (uint =&gt; uint) public age;

// 限定用户年龄的修饰符
modifier olderThan(uint _age, uint _userId) {
  require(age[_userId] &gt;= _age);
  _;
}

// 必须年满16周岁才允许开车 (至少在美国是这样的).
// 我们可以用如下参数调用`olderThan` 修饰符:
function driveCar(uint _userId) public olderThan(16, _userId) {
  // 其余的程序逻辑
}
*/</span><span>
</span></div></div><div style="position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;"></div><div style="position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;"><div aria-disabled="true" class="notion-focusable" role="button" style="user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;" tabindex="-1">JavaScript<svg class="chevronDown" style="width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;" viewbox="0 0 30 30"><polygon points="15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 "></polygon></svg></div></div><div style="background: white; padding-right: 105px;"></div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="7d4619fc-891d-44ca-9210-924d32a32f88" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; min-height: 1em; color: rgb(55, 53, 47); -webkit-text-fill-color: rgba(55, 53, 47, 0.4);"></div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="9916db54-cc7a-44cd-9e5a-e9503dca6566" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; min-height: 1em; color: rgb(55, 53, 47); -webkit-text-fill-color: rgba(55, 53, 47, 0.4);"></div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="41049668-ea0d-4eb6-bdc5-7577ba6168ec" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;">利用 'View' 函数节省 Gas</div></div></div></div><div class="notion-selectable notion-code-block" data-block-id="5fb08207-17d2-452e-9996-fb6831c2d617" style="width: 100%; max-width: 1713px; margin-top: 4px; margin-bottom: 4px;"><div style="display: flex;"><div contenteditable="false" data-content-editable-void="true" style="flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;"><div class="line-numbers notion-code-block" style="display: flex; overflow-x: auto;"><div autocapitalize="off" autocorrect="off" contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="false" style='flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;'><span class="token comment" data-token-index="0">/*
因为view函数不会改变链上任何数据，从外部调用view函数，无需费用
如果view函数被内部函数调用，并且与调用函数不再同一个合约，也是产生gas
*/</span><span>
</span></div></div><div style="position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;"></div><div style="position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;"><div aria-disabled="true" class="notion-focusable" role="button" style="user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;" tabindex="-1">JavaScript<svg class="chevronDown" style="width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;" viewbox="0 0 30 30"><polygon points="15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 "></polygon></svg></div></div><div style="background: white; padding-right: 105px;"></div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="56f86cc5-4049-4edc-8508-97598217b502" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; min-height: 1em; color: rgb(55, 53, 47); -webkit-text-fill-color: rgba(55, 53, 47, 0.4);"></div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="7d3ed73b-e380-4d60-8d47-f026aaec1d81" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;">内存中声明数组</div></div></div></div><div class="notion-selectable notion-code-block" data-block-id="5410f6a3-9f5d-4438-8ea4-ae197c31d9ab" style="width: 100%; max-width: 1713px; margin-top: 4px; margin-bottom: 4px;"><div style="display: flex;"><div contenteditable="false" data-content-editable-void="true" style="flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;"><div class="line-numbers notion-code-block" style="display: flex; overflow-x: auto;"><div autocapitalize="off" autocorrect="off" contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="false" style='flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;'><span class="token comment" data-token-index="0">/*
function getArray() external pure returns(uint[]) {
  // 初始化一个长度为3的内存数组
  uint[] memory values = new uint[](3);
  // 赋值
  values.push(1);
  values.push(2);
  values.push(3);
  // 返回数组
  return values;
}
*/</span><span>
</span></div></div><div style="position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;"></div><div style="position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;"><div aria-disabled="true" class="notion-focusable" role="button" style="user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;" tabindex="-1">JavaScript<svg class="chevronDown" style="width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;" viewbox="0 0 30 30"><polygon points="15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 "></polygon></svg></div></div><div style="background: white; padding-right: 105px;"></div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="3ad5fece-e087-4617-a595-5ce56995c9b0" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; min-height: 1em; color: rgb(55, 53, 47); -webkit-text-fill-color: rgba(55, 53, 47, 0.4);"></div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="a2cc9f0a-a615-4869-9d91-7b64251e23d5" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;">for循环</div></div></div></div><div class="notion-selectable notion-code-block" data-block-id="b60ce602-638f-445a-805a-218802814947" style="width: 100%; max-width: 1713px; margin-top: 4px; margin-bottom: 4px;"><div style="display: flex;"><div contenteditable="false" data-content-editable-void="true" style="flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;"><div class="line-numbers notion-code-block" style="display: flex; overflow-x: auto;"><div autocapitalize="off" autocorrect="off" contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="false" style='flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre;'><span class="token comment" data-token-index="0">/*
function getEvens() pure external returns(uint[]) {
  uint[] memory evens = new uint[](5);
  // 在新数组中记录序列号
  uint counter = 0;
  // 在循环从1迭代到10：
  for (uint i = 1; i &lt;= 10; i++) {
    // 如果 `i` 是偶数...
    if (i % 2 == 0) {
      // 把它加入偶数数组
      evens[counter] = i;
      //索引加一， 指向下一个空的‘even’
      counter++;
    }
  }
  return evens;
}
*/</span><span>
</span></div></div><div style="position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;"></div><div style="position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.6); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;"><div aria-disabled="true" class="notion-focusable" role="button" style="user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.6); margin-right: 5px;" tabindex="-1">JavaScript<svg class="chevronDown" style="width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.3); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;" viewbox="0 0 30 30"><polygon points="15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 "></polygon></svg></div></div><div style="background: white; padding-right: 105px;"></div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="2dbaa6c6-8a9e-49ec-b158-26f2f4003c9b" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; min-height: 1em; color: rgb(55, 53, 47); -webkit-text-fill-color: rgba(55, 53, 47, 0.4);"></div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="3523b492-3bf0-45d1-acb5-1f33d0815120" style="width: 100%; max-width: 1713px; margin-top: 1px; margin-bottom: 0px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; min-height: 1em; color: rgb(55, 53, 47); -webkit-text-fill-color: rgba(55, 53, 47, 0.4);"></div></div></div></div></div><div class="notion-presence-container" style="position: absolute; top: 0px; left: 0px; pointer-events: none; z-index: 1;"><div></div></div></div><div style="position: absolute; top: 0px; left: 0px;"><div></div></div></div></div></div></div><textarea style="opacity: 0; pointer-events: none; position: fixed; left: 0px; top: 0px;"></textarea><textarea style="opacity: 0; pointer-events: none; position: fixed; left: 0px; top: 0px;"></textarea><div style="width: env(safe-area-inset-bottom);"></div><script src="1172e9111a5fb396bcb8a05870b5eabf8abf221c.js" type="text/javascript"></script><script src="6937fd675db50362bc78cda3d5d7a831072a150f.js" type="text/javascript"></script></body></html>